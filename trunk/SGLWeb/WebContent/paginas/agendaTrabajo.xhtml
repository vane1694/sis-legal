<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../WEB-INF/plantilla/layout.xhtml">

	<ui:define name="contenido">

		<h:form id="frmActProc">
			
			<p:panel header="Actividades Procesales - Calendario de Actividades"
				id="panelConsExpe2">
				<h:form id="frmAgenda">
						<p:growl id="messages" showDetail="true" />
						<p:panel>
							<p:schedule value="#{agendaTrab.agendaModel}"
								widgetVar="agendaSchedule">
								<p:ajax event="eventSelect"
									listener="#{agendaTrab.onEventSelect}" update="eventDetails"
									oncomplete="dlgDetDia.show()" />
								<p:ajax event="eventMove" listener="#{agendaTrab.onEventMove}"
									update="messages" />
								<p:ajax event="eventResize"
									listener="#{agendaTrab.onEventResize}" update="messages" />
								<p:ajax event="dateSelect"
									listener="#{agendaTrab.onDateSelect}" update="eventDetails"
									oncomplete="dlgDetDia.show()" />
							</p:schedule>
						</p:panel>

						<p:dialog widgetVar="dlgDetDia" header="Detalle">
							<h:panelGrid id="eventDetails" columns="2">
								<h:outputLabel for="txtTit" value="Titulo:" />
								<p:inputText id="txtTit" value="#{agendaTrab.evento.title}" />

								<h:outputLabel for="from" value="From:" />
								<p:inputMask id="from" value="#{agendaTrab.evento.startDate}"
									mask="99/99/9999 99:99:99">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</p:inputMask>

								<h:outputLabel for="to" value="To:" />
								<p:inputMask id="to" value="#{agendaTrab.evento.endDate}"
									mask="99/99/9999 99:99:99">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</p:inputMask>

								<h:outputLabel for="allDay" value="All Day:" />
								<h:selectBooleanCheckbox id="allDay"
									value="#{agendaTrab.evento.allDay}" />

								<p:commandButton type="reset" value="Limpiar" />
								<p:commandButton value="Guardar"
									actionListener="#{agendaTrab.addEvent}"
									oncomplete="agendaSchedule.update();dlgDetDia.hide();" />
							</h:panelGrid>
						</p:dialog>
					</h:form>

			</p:panel>
			
		</h:form>


	</ui:define>
</ui:composition>

</html>