<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../WEB-INF/plantilla/layout.xhtml">

	<ui:define name="contenido">

		<h:form id="frmActExp">

			<h2>Actualizacion y Seguimiento de Expediente</h2>

			<p:tabView id="mytabView" orientation="bottom" var="e"
				value="#{actSeguiExpe.expedienteVistas}"
				activeIndex="#{actSeguiExpe.tabActivado}">

				<p:ajax event="tabChange" listener="#{actSeguiExpe.onTabChange}" />
				
				<p:tab id="hitoTab" title="#{e.nombreInstancia}"
					titletip="#{e.descripcionTitulo}">

					<p:accordionPanel id="accActExp">

						<p:tab title="#{msjs.datos_expe_titulo}">
							
							<h:panelGrid columns="15">

								<h:outputLabel for="somProceso"
									value="#{msjs.datos_expe_proceso}" />
								<p:selectOneMenu id="somProceso"
									disabled="#{e.flagDeshabilitadoGeneral}" value="#{e.proceso}"
									required="true" effect="fade" label="Proceso"
									style="width:110px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.procesos}" var="p"
										itemLabel="#{p.nombre}" itemValue="#{p.idProceso}" />
								</p:selectOneMenu>
								<p:message for="somProceso" />

								<p:spacer width="15" />

								<h:outputLabel for="somVia" value="#{msjs.datos_expe_via}" />
								<p:selectOneMenu id="somVia" value="#{e.via}" required="true"
									disabled="#{e.flagHabilitadoModificar}" label="Via"
									effect="fade" style="width:110px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{e.vias}" var="v"
										itemLabel="#{v.nombre}" itemValue="#{v.idVia}" />
									<p:ajax update="somInstancia" listener="#{actSeguiExpe.cambioVia}"
											event="change" />
								</p:selectOneMenu>
								<p:message for="somVia" />

								<p:spacer width="15" />

								<h:outputLabel for="somInstancia"
									value="#{msjs.datos_expe_instancia}" />
								<p:selectOneMenu id="somInstancia" value="#{e.instancia}"
												disabled="#{e.flagHabilitadoModificar}"
												required="true" 
												label="Instancia" 
												effect="fade"
												style="width:110px;">
									
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{e.instancias}" var="i" itemLabel="#{i.nombre}" itemValue="#{i.idInstancia}" />
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioInstancia}" event="change" />
									
								</p:selectOneMenu>
								<p:message for="somInstancia" />

								<p:spacer width="15" />

								<h:outputLabel for="acResponsable"
									value="#{msjs.datos_expe_responsable}" />
								<p:autoComplete id="acResponsable"
									forceSelection="true"
									disabled="#{e.flagDeshabilitadoGeneral}"
									value="#{e.responsable}" required="true" label="Responsable"
									completeMethod="#{actSeguiExpe.completeResponsable}" var="u"
									converter="usuarioConverter" itemLabel="#{u.nombreDescripcion}"
									itemValue="#{u}" size="30">
								</p:autoComplete>
								<p:message for="acResponsable" />

							</h:panelGrid>
							
							<h:panelGrid columns="11">

								<h:outputLabel for="txtNroExpeOficial"
									value="#{msjs.datos_expe_nro}" />
								
								<p:inputText value="#{e.nroExpeOficial}" disabled="#{e.flagDeshabilitadoGeneral}"
									id="txtNroExpeOficial" required="true" label="Nro Expediente">
								</p:inputText>
								<p:message for="txtNroExpeOficial" />

								<p:spacer width="20" />

								<h:outputLabel for="calIniPro"
									value="#{msjs.datos_expe_ini_proceso}" />
								<p:calendar value="#{e.inicioProceso}" id="calIniPro"
									disabled="#{e.flagDeshabilitadoGeneral}" pattern="dd/MM/yyyy"
									required="true" label="Fecha de Inicio" maxlength="10"
									size="10">
								</p:calendar>
								<p:message for="calIniPro" />

								<p:spacer width="20" />

								<h:outputLabel value="#{msjs.datos_expe_estado}" />
								<p:selectOneMenu id="somEstado"
									disabled="#{e.flagDeshabilitadoGeneral}" value="#{e.estado}"
									effect="fade" required="true" label="Estado"
									style="width:100px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.estados}" var="est"
										itemLabel="#{est.nombre}"
										itemValue="#{est.idEstadoExpediente}" />
								</p:selectOneMenu>
								<p:message for="somEstado" />

							</h:panelGrid>

							<h:panelGrid columns="10">

								<h:outputLabel value="#{msjs.datos_expe_oficina}" />

								<p:autoComplete id="acOficina" value="#{e.oficina}"
									forceSelection="true"
									disabled="#{e.flagHabilitadoModificar}"
									valueChangeListener="#{actSeguiExpe.cambioOficina}"
									required="true" label="Oficina" var="o"
									itemLabel="#{o.nombreDetallado}" itemValue="#{o}"
									converter="oficinaConverter"
									completeMethod="#{actSeguiExpe.completeOficina}" size="43">
									
								</p:autoComplete>

								<p:spacer width="2" />

								<h:outputLabel value="#{msjs.datos_expe_calificacion}" />
								<p:selectOneMenu id="somCalificacion"
									disabled="#{e.flagDeshabilitadoGeneral}"
									value="#{e.calificacion}" effect="fade" required="true"
									label="Calificacion" style="width:100px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.calificaciones}" var="cal"
										itemLabel="#{cal.nombre}" itemValue="#{cal.idCalificacion}" />
								</p:selectOneMenu>
								<p:message for="somCalificacion" />

								<p:spacer width="20" />

								<h:outputLabel value="#{msjs.datos_expe_recurrencia}" />
								<p:autoComplete
									forceSelection="true"
									valueChangeListener="#{actSeguiExpe.cambioRecurrencia}"
									completeMethod="#{actSeguiExpe.completeRecurrencia}"
									disabled="#{e.flagHabilitadoModificar}"
									id="acRecurrencia" value="#{e.recurrencia}" var="recurrencia"
									itemLabel="#{recurrencia.nombre}" itemValue="#{recurrencia}"
									converter="recurrenciaConverter" size="25">
									
								</p:autoComplete>
								<p:message for="acRecurrencia" />

							</h:panelGrid>

							<h:panelGrid columns="11">

								<h:outputLabel value="#{msjs.datos_expe_tipo}" />
								<p:selectOneMenu id="somTipo" value="#{e.tipo}"
									disabled="#{e.flagDeshabilitadoGeneral}" required="true"
									label="Tipo" style="width:110px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.tipos}" var="t"
										itemLabel="#{t.nombre}" itemValue="#{t.idTipoExpediente}" />
								</p:selectOneMenu>
								<p:message for="somTipo" />

								<p:spacer width="2" />

								<h:outputLabel value="#{msjs.datos_expe_organo}" />
								<p:autoComplete id="acOrgano" value="#{e.organo1}"
												forceSelection="true"
												valueChangeListener="#{actSeguiExpe.cambioOrgano}"
												disabled="#{e.flagHabilitadoModificar}"
												required="true" label="Organo" var="org"
												itemLabel="#{org.nombreDetallado}" itemValue="#{org}"
												converter="organoConverter"
												completeMethod="#{actSeguiExpe.completeOrgano}" size="68">
									
								</p:autoComplete>
								<p:message for="acOrgano" />

								<p:commandButton id="panelOrganoBtn" icon="ui-icon-extlink"
									update=":frmManOrg" process="@this" ajax="true"
									actionListener="#{actSeguiExpe.limpiarOrgano}"
									oncomplete="dlgOrg.show();"
									disabled="#{e.flagHabilitadoModificar}" />

								<p:spacer width="2" />

								<h:outputLabel value="#{msjs.datos_expe_secretario}" />
								<p:inputText value="#{e.secretario}" id="txtSecretario" 
									disabled="#{e.flagHabilitadoModificar}"
									size="15">
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioSecretario}" event="change" />
								</p:inputText>

							</h:panelGrid>

							<h:panelGrid columns="7">

								<h:outputLabel for="acFormaConclusion"
									value="Forma de Conclusion:" />
								<p:autoComplete
									forceSelection="true"
									completeMethod="#{actSeguiExpe.completeFormaConclusion}"
									disabled="#{e.flagDeshabilitadoGeneral}" id="acFormaConclusion"
									value="#{e.formaConclusion}" var="conclusion"
									itemLabel="#{conclusion.descripcion}" itemValue="#{conclusion}"
									converter="conclusionConverter" size="25">
								</p:autoComplete>
								<p:message for="acFormaConclusion" />

								<p:spacer width="20" />

								<h:outputLabel for="calFinPro" value="Fin de Proceso:" />
								<p:calendar value="#{e.finProceso}" id="calFinPro"
									disabled="#{e.flagDeshabilitadoGeneral}" pattern="dd/MM/yyyy"
									required="true" label="Fecha Fin" maxlength="10" size="10">
								</p:calendar>
								<p:message for="calFinPro" />

							</h:panelGrid>

						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accAbog" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_1}" id="tabAsigEstExt">

							<h:panelGrid columns="1" id="gridMsjAbogado">
								<p:messages globalOnly="true" />
							</h:panelGrid>
					
							<h:panelGrid columns="24" id="gridHonor">

								<h:outputLabel value="#{msjs.datos_expe_abogado}" />
								<p:autoComplete id="acAbogado" size="37"
									disabled="#{e.flagHabilitadoModificar}"
									value="#{e.honorario.abogado}" label="Abogado"
									completeMethod="#{actSeguiExpe.completeAbogado}" var="a"
									converter="abogadoConverter" forceSelection="true"
									itemLabel="#{a.nombreCompletoMayuscula}" itemValue="#{a}" />
									
								<p:commandButton id="pnlDetAbogado" icon="ui-icon-extlink"
									process="@this" update=":frmManAbog" oncomplete="dlgAbog.show();"
									ajax="true" actionListener="#{actSeguiExpe.limpiarAbogado}"
									disabled="#{e.flagHabilitadoModificar}" />

								<p:spacer width="3" />

								<h:outputLabel value="Honorario:" />
								<p:selectOneMenu
									value="#{e.honorario.tipoHonorario.descripcion}" effect="fade"
									disabled="#{e.flagHabilitadoModificar}" style="width:95px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems itemValue="#{t}" itemLabel="#{t}" var="t"
										value="#{actSeguiExpe.tipoHonorariosString}"></f:selectItems>
								</p:selectOneMenu>

								<p:spacer width="3" />

								<h:outputLabel value="Cuotas:" />
								<p:spinner id="spnCuotas" size="2"
									disabled="#{e.flagHabilitadoModificar}"
									value="#{e.honorario.cantidad}" min="1" max="99" />

								<p:spacer width="5" />

								<h:outputLabel value="Moneda:" />
								<p:selectOneMenu value="#{e.honorario.moneda.simbolo}"
									disabled="#{e.flagHabilitadoModificar}" effect="fade"
									style="width:87px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.monedasString}" var="m"
										itemLabel="#{m}" itemValue="#{m}" />
								</p:selectOneMenu>

								<p:spacer width="3" />

								<h:outputLabel for="somHonTotal" value="Monto:" />
								<p:inputText id="somHonTotal" value="#{e.honorario.monto}" size="10" validatorMessage="Monto invalido"
									disabled="#{e.flagHabilitadoModificar}">
									<f:convertNumber pattern="#,###,##0.00" locale="en" />
								</p:inputText>
								<p:message for="somHonTotal" />
								
								<p:spacer width="3" />

								<h:outputLabel value="Situacion:" />
								<p:selectOneMenu id="somSituacEstudio" effect="fade"
									value="#{e.honorario.situacionHonorario.descripcion}"
									disabled="#{e.flagHabilitadoModificar}" style="width:95px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems
										value="#{actSeguiExpe.situacionHonorariosString}" var="s"
										itemLabel="#{s}" itemValue="#{s}" />
								</p:selectOneMenu>
								<p:message for="somSituacEstudio" />

								<p:spacer width="3" />

								<p:commandButton icon="ui-icon-arrowthick-1-s"
									update="gridMsjAbogado pnlHonor gridHonor :frmActExp:mytabView:botones" ajax="true"
									actionListener="#{actSeguiExpe.agregarHonorario}"
									process="gridHonor" disabled="#{e.flagHabilitadoModificar}">

								</p:commandButton>
							</h:panelGrid>

							<p:outputPanel id="pnlHonor" style="text-align:center">

								<p:dataTable value="#{e.honorarios}" id="tableHonorario" var="h" 
									paginator="true" rows="3" paginatorPosition="bottom"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
									emptyMessage="No hay registros" editable="true">
									
									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editHonor}" update=":frmActExp:mytabView:botones" />

									<p:column style="width:16px">
										<p:commandLink id="detall" value="Detalle" process="@this"
											rendered="#{e.flagColumnGeneral}"
											oncomplete="dlgDetalleHonorario.show();"
											update=":frmActExp:mytabView:accAbog:dlgDetallHonor"
											ajax="true">
											<f:setPropertyActionListener for="detall"
												target="#{actSeguiExpe.cuotas}" value="#{h.cuotas}">
											</f:setPropertyActionListener>
										</p:commandLink>
									</p:column>

									<p:column headerText="Estudio">
										<h:outputText value="#{h.estudio}"></h:outputText>
									</p:column>

									<p:column headerText="Abogado">
										<h:outputText value="#{h.abogado.nombreCompleto}"></h:outputText>
									</p:column>

									<p:column headerText="Honorario">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{h.tipoHonorario.descripcion}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{h.tipoHonorario.descripcion}"
													effect="fade" style="width:100px;">
													<f:selectItems itemValue="#{t}" itemLabel="#{t}" var="t"
														value="#{actSeguiExpe.tipoHonorariosString}"></f:selectItems>
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Cuotas">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{h.cantidad}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{h.cantidad}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Moneda">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{h.moneda.simbolo}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{h.moneda.simbolo}" effect="fade"
													style="width:50px;">
													<f:selectItem itemLabel="Seleccione" itemValue="" />
													<f:selectItems value="#{actSeguiExpe.monedasString}"
														var="m" itemLabel="#{m}" itemValue="#{m}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Monto">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{h.monto}">
													<f:convertNumber pattern="#,###,##0.00" locale="en" />
												</h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{h.monto}" label="Monto" id="txtTblMont"  >
													<f:convertNumber pattern="#,###,##0.00" locale="en" />
												</p:inputText>
												<p:message for="txtTblMont" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Total Pagado">
										<h:outputText value="#{h.montoPagado}"></h:outputText>
									</p:column>
									<p:column headerText="Situacion">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{h.situacionHonorario.descripcion}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{h.situacionHonorario.descripcion}"
													style="width:100px;" effect="fade">
													<f:selectItems
														value="#{actSeguiExpe.situacionHonorariosString}" var="s"
														itemLabel="#{s}" itemValue="#{s}" />
												</p:selectOneMenu>

											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor rendered="#{e.flagColumnGeneral}" />
									</p:column>
									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnGeneral}"
											action="#{actSeguiExpe.deleteHonorario}" ajax="true"
											update=":frmActExp:mytabView:accAbog:pnlHonor :frmActExp:mytabView:botones"
											process="@this">
											<f:setPropertyActionListener target="#{e.selectedHonorario}"
												value="#{h}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>


								</p:dataTable>

							</p:outputPanel>

							<!-- Cuotas de Honorario -->
							<p:dialog widgetVar="dlgDetalleHonorario" id="dlgDetallHonor"
								modal="true" header="Detalle Honorario">

								<p:dataTable value="#{actSeguiExpe.cuotas}" editable="true"
									id="tableDetHon" var="cuota" emptyMessage="No hay cuotas">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editDetHonor}"
										update=":frmActExp:mytabView:accAbog:pnlHonor" />

									<p:column headerText="Cuota">
										<h:outputText value="#{cuota.numero}" />
									</p:column>

									<p:column headerText="Nro Recibo">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.nroRecibo}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.nroRecibo}" />
											</f:facet>
										</p:cellEditor>
									</p:column>
								
									<p:column headerText="Moneda">
										<h:outputText value="#{cuota.moneda}" />
									</p:column>

									<p:column headerText="Importe">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.importe}">
													<f:convertNumber pattern="#,###,##0.00" locale="en" />
												</h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.importe}" id="txtImp" >
													<f:convertNumber pattern="#,###,##0.00" locale="en" />
												</p:inputText>
												<p:message for="txtImp" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Fecha Pago">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.fechaToString}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar id="calInculFec" value="#{cuota.fechaPago}"
													showOn="button"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Situacion">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.situacionCuota.descripcion}" />
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{cuota.situacionCuota.descripcion}"
													style="width:100px;" effect="fade">
													<f:selectItems
														value="#{actSeguiExpe.situacionCuotasString}" 
														var="s" itemLabel="#{s}" itemValue="#{s}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor />
									</p:column>

								</p:dataTable>

							</p:dialog>

						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accPers" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_2}">

							<h:panelGrid columns="1" id="gridMsjPers">
								<p:messages globalOnly="true" />
							</h:panelGrid>
					
							<h:panelGrid columns="15" id="gridInv">

								<h:outputLabel for="acPersona" value="#{msjs.datos_expe_nombre}" />
								<p:autoComplete value="#{e.involucrado.persona}" size="37"
									disabled="#{e.flagHabilitadoModificar}" forceSelection="true"
									completeMethod="#{actSeguiExpe.completePersona}"
									converter="personaCvtr" var="p"
									itemLabel="#{p.nombreCompletoMayuscula}" itemValue="#{p}"
									id="acPersona" />
								<p:message for="acPersona" />

								<p:commandButton id="panelDetPersBtn" icon="ui-icon-extlink"
									process="@this" update=":frmManPers"
									oncomplete="dlgDetPers.show();" ajax="true"
									actionListener="#{actSeguiExpe.limpiarPersona}"
									disabled="#{e.flagHabilitadoModificar}" />

								<p:spacer width="20" />

								<h:outputLabel value="Rol :" />
								<p:selectOneMenu value="#{e.involucrado.rolInvolucrado.nombre}"
									disabled="#{e.flagHabilitadoModificar}" effect="fade"
									style="width:120px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems itemValue="#{r}" itemLabel="#{r}" var="r"
										value="#{actSeguiExpe.rolInvolucradosString}"></f:selectItems>
								</p:selectOneMenu>

								<p:spacer width="20" />

								<h:outputLabel value="Tipo :" />
								<p:selectOneMenu value="#{e.involucrado.tipoInvolucrado.nombre}"
									disabled="#{e.flagHabilitadoModificar}" effect="fade"
									style="width:120px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems itemValue="#{t}" itemLabel="#{t}" var="t"
										value="#{actSeguiExpe.tipoInvolucradosString}"></f:selectItems>
								</p:selectOneMenu>

								<p:spacer width="20" />

								<h:outputLabel value="Referencia :" />
								<p:inputText id="txtPersRef" value="#{e.involucrado.referencia}"
									disabled="#{e.flagHabilitadoModificar}" />

								<p:spacer width="20" />
								<p:commandButton icon="ui-icon-arrowthick-1-s"
									actionListener="#{actSeguiExpe.agregarInvolucrado}"
									update="gridMsjPers gridInv pnlDetInvol :frmActExp:mytabView:botones" ajax="true" process="gridInv"
									disabled="#{e.flagHabilitadoModificar}" />


							</h:panelGrid>

							<p:outputPanel id="pnlDetInvol" style="text-align:center"
								styleClass="centered">

								<p:dataTable id="tblInvolucrado"
									value="#{e.involucradoDataModel}" var="invol" paginator="true"
									paginatorPosition="bottom" emptyMessage="No hay registros"
									rows="3"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
									rowsPerPageTemplate="5,10,15" editable="true">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editInv}" update=":frmActExp:mytabView:botones" />
									
									<p:column headerText="Nombre">
										<h:outputText value="#{invol.persona.nombreCompleto}"></h:outputText>
									</p:column>

									<p:column headerText="Documento">
										<h:outputText
											value="#{invol.persona.tipoDocumento.descripcion}"></h:outputText>
									</p:column>

									<p:column headerText="Numero">
										<h:outputText value="#{invol.persona.numeroDocumento}"></h:outputText>
									</p:column>

									<p:column headerText="Cod. Cliente">
										<h:outputText value="#{invol.persona.codCliente}"></h:outputText>
									</p:column>

									<p:column headerText="Clase">
										<h:outputText value="#{invol.persona.clase.descripcion}"></h:outputText>

									</p:column>

									<p:column headerText="Rol">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{invol.rolInvolucrado.nombre}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{invol.rolInvolucrado.nombre}"
													effect="fade" style="width:120px;">
													<f:selectItems itemValue="#{r}" itemLabel="#{r}" var="r"
														value="#{actSeguiExpe.rolInvolucradosString}"></f:selectItems>
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Tipo">

										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{invol.tipoInvolucrado.nombre}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{invol.tipoInvolucrado.nombre}"
													effect="fade" style="width:120px;">
													<f:selectItems itemValue="#{t}" itemLabel="#{t}" var="t"
														value="#{actSeguiExpe.tipoInvolucradosString}"></f:selectItems>
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>


									<p:column headerText="Referencia">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{invol.referencia}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{invol.referencia}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor rendered="#{e.flagColumnGeneral}" />
									</p:column>
									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnGeneral}"
											action="#{actSeguiExpe.deleteInvolucrado}" process="@this"
											update=":frmActExp:mytabView:accPers:pnlDetInvol :frmActExp:mytabView:botones">
											<f:setPropertyActionListener
												target="#{e.selectedInvolucrado}" value="#{invol}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>
								</p:dataTable>
							</p:outputPanel>
						</p:tab>
					</p:accordionPanel>

					<p:accordionPanel id="accCua" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_3}" id="tabCuanMat">

								<h:panelGrid columns="1" id="gridMsjCuantia">
									<p:messages globalOnly="true" />
								</h:panelGrid>
						
								<h:panelGrid columns="13" id="gridMantCua">

									<h:outputLabel value="Moneda :" />
									<p:selectOneMenu id="slctMoneda"
										disabled="#{e.flagHabilitadoCuantiaModificar}" value="#{e.cuantia.moneda.simbolo}" 
										effect="fade" style="width:100px;">
										<f:selectItem itemLabel="Seleccione" itemValue="" />
										<f:selectItems value="#{actSeguiExpe.monedasString}" var="m"
											itemLabel="#{m}" itemValue="#{m}" />
									</p:selectOneMenu>
									<p:message for="slctMoneda" />
									
									<p:spacer width="20" />

									<h:outputLabel for="txtCuantPretend" value="Pretendido :" />
									<p:inputText id="txtCuantPretend" disabled="#{e.flagHabilitadoCuantiaModificar}"
										value="#{e.cuantia.pretendido}" size="10">
										<f:convertNumber pattern="#,###,##0.00" locale="en" />
									</p:inputText>
									<p:message for="txtCuantPretend" />
									
									<p:spacer width="20" />

									<h:outputLabel for="acCuantMat" value="Materia :" />
									<p:autoComplete value="#{e.cuantia.materia}" id="acCuantMat"
										forceSelection="true" disabled="#{e.flagHabilitadoCuantiaModificar}"
										completeMethod="#{actSeguiExpe.completeMaterias}"
										converter="materiaConverter" var="m"
										itemLabel="#{m.descripcion}" itemValue="#{m}">
									</p:autoComplete>
									<p:message for="acCuantMat" />

									<p:spacer width="20" />
									
									<p:commandButton id="agregarCuantiaBtn" icon="ui-icon-arrowthick-1-s"
										disabled="#{e.flagHabilitadoCuantiaModificar}"
										update="gridMsjCuantia gridMantCua dtListCuantia"
										actionListener="#{actSeguiExpe.agregarCuantia}"
										ajax="true" process="gridMantCua" />

								</h:panelGrid>


							<p:outputPanel id="dtListCuantia" style="text-align:center"
								styleClass="centered">

								<p:dataTable id="est_cuantia" var="cuant" style="width: 50%;"
									value="#{e.cuantiaDataModel}" paginatorPosition="bottom"
									emptyMessage="No hay registros" paginator="true" rows="5"
									rowKey="#{cuant.idCuantia}" editable="true">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editCua}"
										update=":frmActExp:mytabView:accAbog:pnlHonor" />
										
									<p:column headerText="Moneda">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuant.moneda.simbolo}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{cuant.moneda.simbolo}"
													effect="fade" style="width:50px;">
													<f:selectItems value="#{actSeguiExpe.monedasString}"
														var="m" itemLabel="#{m}" itemValue="#{m}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Pretendido">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuant.pretendido}">
													<f:convertNumber pattern="#,###,##0.00" locale="en" />
												</h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuant.pretendido}">
													<f:convertNumber pattern="#,###,##0.00" locale="en" />
												</p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Materia">
										<h:outputText value="#{cuant.materia.descripcion}"></h:outputText>
									</p:column>
									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor rendered="#{e.flagColumnCuantia}" />
									</p:column>
									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnCuantia}"
											action="#{actSeguiExpe.deleteCuantia}"
											update=":frmActExp:mytabView:accCua:dtListCuantia"
											process="@this">
											<f:setPropertyActionListener target="#{e.selectedCuantia}"
												value="#{cuant}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>

								</p:dataTable>

							</p:outputPanel>

						</p:tab>


					</p:accordionPanel>

					<p:accordionPanel id="accCauc" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_4}" id="tabCaucion"
							disabled="#{actSeguiExpe.tabCaucion}">

							<h:panelGrid columns="1" id="gridMsjCaucion">
								<p:messages globalOnly="true" />
							</h:panelGrid>
					
							<h:panelGrid columns="26" id="gridCauc">

								<h:outputLabel value="#{msjs.datos_expe_inculpado}" />

								<p:autoComplete completeMethod="#{actSeguiExpe.completePersona}"
									forceSelection="true"
									disabled="#{e.flagHabilitadoModificar}" converter="personaCvtr"
									var="p" itemLabel="#{p.nombreCompletoMayuscula}"
									itemValue="#{p}" id="acPersona" size="37"
									value="#{e.inculpado.persona}" />

								<p:message for="acPersona" />

								<p:commandButton id="panelDetInculpBtn" icon="ui-icon-extlink"
									process="@this" update=":frmManInc"
									oncomplete="dlgDetInc.show();" ajax="true"
									actionListener="#{actSeguiExpe.limpiarPersona}"
									disabled="#{e.flagHabilitadoModificar}" />

								<p:spacer width="3" />

								<h:outputLabel value="Fecha:" />
								<p:calendar id="calInculFec" value="#{e.inculpado.fecha}"
									disabled="#{e.flagHabilitadoModificar}" pattern="dd/MM/yyyy"
									maxlength="10" size="10" />
								<p:message for="calInculFec" />

								<p:spacer width="3" />

								<h:outputLabel value="Moneda :" />
								<p:selectOneMenu id="somMonedaIncul"
									value="#{e.inculpado.moneda.simbolo}" style="width:90px;"
									disabled="#{e.flagHabilitadoModificar}" effect="fade">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.monedasString}" var="m"
										itemLabel="#{m}" itemValue="#{m}" />
								</p:selectOneMenu>
								<p:message for="somMonedaIncul" />

								<p:spacer width="3" />

								<h:outputLabel value="Monto :" />
								<p:inputText id="txtMontoInculpado" label="Monto" value="#{e.inculpado.monto}"
									disabled="#{e.flagHabilitadoModificar}" size="7">
									<f:convertNumber pattern="#,###,##0.00" locale="en" />
								</p:inputText>
								<p:message for="txtMontoInculpado" />

								<p:spacer width="3" />

								<h:outputLabel value="Nro Cupon :" />
								<p:inputText id="txtNroCuponInculpado"
									disabled="#{e.flagHabilitadoModificar}"
									value="#{e.inculpado.nrocupon}" size="7">
									<f:convertNumber integerOnly="true" />
								</p:inputText>
								<p:message for="txtNroCuponInculpado" />

								<p:spacer width="3" />

								<h:outputLabel value="Situacion :" />
								<p:selectOneMenu id="somSituacIncul"
									disabled="#{e.flagHabilitadoModificar}"
									value="#{e.inculpado.situacionInculpado.nombre}"
									style="width:90px;" effect="fade">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems
										value="#{actSeguiExpe.situacionInculpadosString}" var="s"
										itemLabel="#{s}" itemValue="#{s}" />
								</p:selectOneMenu>
								<p:message for="somSituacIncul" />

								<p:spacer width="3" />

								<p:commandButton icon="ui-icon-arrowthick-1-s"
									update="gridMsjCaucion gridCauc pnlInculp :frmActExp:mytabView:botones" process="gridCauc"
									actionListener="#{actSeguiExpe.agregarInculpado}" ajax="true"
									disabled="#{e.flagHabilitadoModificar}" />

							</h:panelGrid>

							<p:outputPanel id="pnlInculp" style="text-align:center"
								styleClass="centered">

								<p:dataTable value="#{e.inculpados}" id="tbl_Inculp"
									var="tblInculp" paginator="true" rows="3"
									paginatorPosition="bottom"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
									emptyMessage="No hay registros" editable="true">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editInc}" update=":frmActExp:mytabView:botones" />
									
									<p:column headerText="Inculpado">
										<h:outputText value="#{tblInculp.persona.nombreCompleto}"></h:outputText>
									</p:column>

									<p:column headerText="Fecha">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{tblInculp.fechaToString}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:calendar id="calInculFec" value="#{tblInculp.fecha}"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Moneda">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{tblInculp.moneda.simbolo}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{tblInculp.moneda.simbolo}"
													style="width:100px;" effect="fade">
													<f:selectItems value="#{actSeguiExpe.monedasString}"
														var="m" itemLabel="#{m}" itemValue="#{m}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>

									</p:column>
									<p:column headerText="Monto">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{tblInculp.monto}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{tblInculp.monto}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Nro. cupon">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{tblInculp.nrocupon}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{tblInculp.nrocupon}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Situacion">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{tblInculp.situacionInculpado.nombre}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu effect="fade"
													value="#{tblInculp.situacionInculpado.nombre}"
													style="width:120px;">
													<f:selectItems
														value="#{actSeguiExpe.situacionInculpadosString}" var="s"
														itemLabel="#{s}" itemValue="#{s}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor rendered="#{e.flagColumnGeneral}" />
									</p:column>
									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnGeneral}"
											action="#{actSeguiExpe.deleteInculpado}"
											update=":frmActExp:mytabView:accCauc:pnlInculp"
											process="@this">
											<f:setPropertyActionListener target="#{e.selectedInculpado}"
												value="#{tblInculp}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>

								</p:dataTable>

							</p:outputPanel>


						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accMed" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_5}">
							<h:panelGrid columns="15">
								<h:outputLabel value="#{msjs.datos_expe_moneda}" />
								<p:selectOneMenu id="somMoneda" value="#{e.moneda}"
									disabled="#{e.flagHabilitadoModificar}" style="width:100px;"
									effect="fade">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.monedas}" var="moneda"
										itemLabel="#{moneda.simbolo}" itemValue="#{moneda.idMoneda}" />
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioMoneda}" event="change" />
								</p:selectOneMenu>
								<p:message for="somMoneda" />

								<p:spacer width="3" />

								<h:outputLabel value="#{msjs.datos_expe_monto}" />
								<p:inputText value="#{e.montoCautelar}" id="idMonto" size="7"
									disabled="#{e.flagHabilitadoModificar}">
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioMonto}" event="change" />
									<f:convertNumber pattern="#,###,##0.00" locale="en" />
								</p:inputText>
								<p:message for="idMonto" />

								<p:spacer width="3" />

								<h:outputLabel value="#{msjs.datos_expe_tipo_2}" />
								<p:selectOneMenu id="somCautelaTipo" value="#{e.tipoCautelar}"
									disabled="#{e.flagHabilitadoModificar}" style="width:120px;"
									effect="fade">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.tipoCautelares}"
										var="tipo" itemLabel="#{tipo.descripcion}"
										itemValue="#{tipo.idTipoCautelar}" />
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioTipo}" event="change" />
								</p:selectOneMenu>
								<p:message for="somCautelaTipo" />

								<p:spacer width="3" />

								<h:outputLabel value="#{msjs.datos_expe_descripcion}" />
								<h:panelGrid columns="1">
									<p:inputTextarea value="#{e.descripcionCautelar}"
										disabled="#{e.flagHabilitadoModificar}" maxlength="50"
										id="idDescr" rows="2" cols="30" autoResize="false"
										counter="counterDescripCautelar"
										counterTemplate="Quedan {0} caracteres.">
										<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioDescripcion}" event="change" />
									</p:inputTextarea>
									<h:outputText id="counterDescripCautelar" />
								</h:panelGrid>

								<p:message for="idDescr" />
							</h:panelGrid>

							<h:panelGrid columns="11">
								<h:outputLabel value="#{msjs.datos_expe_contra_cautela}" />
								<p:selectOneMenu id="somContraCautela"
									disabled="#{e.flagHabilitadoModificar}"
									value="#{e.contraCautela}" style="width:120px;" effect="fade">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.contraCautelas}"
										var="contra" itemLabel="#{contra.descripcion}"
										itemValue="#{contra.idContraCautela}" />
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioContraCautela}" event="change" />
								</p:selectOneMenu>
								<p:message for="somContraCautela" />

								<p:spacer width="3" />

								<h:outputLabel for="idImporte" value="#{msjs.datos_expe_importe}" />
								<p:inputText id="idImporte" value="#{e.importeCautelar}"
									disabled="#{e.flagHabilitadoModificar}">
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioImporteCautela}" event="change" />
									<f:convertNumber pattern="#,###,##0.00" locale="en" />
								</p:inputText>
								<p:message for="idImporte" />
								<p:spacer width="3" />

								<h:outputLabel value="#{msjs.datos_expe_estado_2}" />
								<p:selectOneMenu id="somEstadoCautela"
									disabled="#{e.flagHabilitadoModificar}"
									value="#{e.estadoCautelar}" style="width:120px;" effect="fade">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.estadosCautelares}"
										var="est" itemLabel="#{est.descripcion}"
										itemValue="#{est.idEstadoCautelar}" />
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioEstadoCautela}" event="change" />
								</p:selectOneMenu>

								<p:message for="somEstadoCautela" />

							</h:panelGrid>


						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accProvision" activeIndex="1">
						
						<p:tab id="tabProvision" title="Provision">

							<h:panelGrid columns="1">
						
									<p:commandButton id="cmdBtnAnexo" icon="ui-icon-extlink"
									disabled="#{e.flagHabilitadoModificar}" type="button"
									onclick="dlgProv.show();" />
							
					
							</h:panelGrid>

							<!-- Provision -->
							<p:dialog widgetVar="dlgProv" modal="true" id="dlgProvPanel"
								header="Provision">
								
								<h:panelGrid columns="1" id="gridMsjProv">
									<p:messages globalOnly="true" />
								</h:panelGrid>
							
								<h:panelGrid columns="3" id="gridProv">

									<h:outputLabel for="calSent" value="Fecha de Sentencia:" />
									<p:calendar value="#{e.provision.fechaSentencia}" id="calSent"
										pattern="dd/MM/yyyy" label="Fecha Sentencia" maxlength="10"
										showOn="button"
										size="10">
									</p:calendar>
									<p:message for="calSent" />

									<h:outputLabel for="calProv" value="Fecha de Provision:" />
									<p:calendar value="#{e.provision.fechaProvision}" id="calProv"
										pattern="dd/MM/yyyy" label="Fecha Provision" maxlength="10"
										showOn="button"
										size="10">
									</p:calendar>
									<p:message for="calProv" />

									<h:outputLabel for="somTipProv" value="Tipo:" />
									<p:selectOneMenu id="somTipProv"
										value="#{e.provision.tipoProvision.descripcion}" effect="fade"
										label="Tipo" style="width:110px;">
										<f:selectItem itemLabel="Seleccione" itemValue="" />
										<f:selectItems value="#{actSeguiExpe.tipoProvisionesString}"
											var="tip" itemLabel="#{tip}" itemValue="#{tip}" />
									</p:selectOneMenu>
									<p:message for="somTipProv" />

									<h:outputLabel for="somMonedaProv" value="Moneda :" />
									<p:selectOneMenu id="somMonedaProv" effect="fade"
										value="#{e.provision.moneda.simbolo}" style="width:110px;">
										<f:selectItem itemLabel="Seleccione" itemValue="" />
										<f:selectItems value="#{actSeguiExpe.monedasString}" var="m"
											itemLabel="#{m}" itemValue="#{m}" />
									</p:selectOneMenu>
									<p:message for="somMonedaProv" />

									<h:outputLabel for="txtMontoProv" value="Monto:" />
									<p:inputText id="txtMontoProv" value="#{e.provision.monto}">
									</p:inputText>
									<p:message for="txtMontoProv" />

									<h:outputLabel value="Descripcion:" />
									<h:panelGrid columns="1">
										<p:inputTextarea id="txtAreaDescr" counter="counterDescr"
											value="#{e.provision.descripcion}"
											counterTemplate="Quedan {0} caracteres." maxlength="100"
											label="Descripcion" rows="3" cols="20" autoResize="false" />
										<h:outputText id="counterDescr" />
									</h:panelGrid>


								</h:panelGrid>
								<h:panelGrid columns="5">
									
									<p:commandButton
										actionListener="#{actSeguiExpe.agregarProvision}" ajax="true"
										process="gridProv" update="gridProv gridMsjProv dtListProv :frmActExp:mytabView:botones"
										value="Agregar"
										icon="ui-icon-plus" />
										
									<p:spacer width="10" height="20" />
									
									<p:commandButton value="Limpiar" icon="ui-icon-trash"
										actionListener="#{actSeguiExpe.limpiarProvision}"
										process="gridProv" update="gridProv gridMsjProv" ajax="true" />
										
									<p:spacer width="10" height="20" />		
								
									<p:commandButton value="Cancelar"
										 icon="ui-icon-arrowreturnthick-1-w"
										 type="button" onclick="dlgProv.hide();" />
										
								</h:panelGrid>

							</p:dialog>
							<p:outputPanel id="dtListProv">

								<p:dataTable id="dtProv" var="prov" value="#{e.provisiones}"
									paginatorPosition="bottom" paginator="true" rows="5"
									emptyMessage="No hay registros" editable="true">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editProv}" update=":frmActExp:mytabView:botones" />
									
									<p:column headerText="Fecha Sentencia">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{prov.fechaSentenciaToString}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{prov.fechaSentencia}"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Fecha Provision">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{prov.fechaProvisionToString}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{prov.fechaProvision}"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Tipo">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{prov.tipoProvision.descripcion}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{prov.tipoProvision.descripcion}"
													effect="fade" label="Tipo" style="width:110px;">
													<f:selectItems
														value="#{actSeguiExpe.tipoProvisionesString}" var="tip"
														itemLabel="#{tip}" itemValue="#{tip}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Moneda">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{prov.moneda.simbolo}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{prov.moneda.simbolo}" effect="fade"
													style="width:100px;">
													<f:selectItems value="#{actSeguiExpe.monedasString}"
														var="m" itemLabel="#{m}" itemValue="#{m}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Monto">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{prov.monto}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{prov.monto}">
												</p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Descripcion">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{prov.descripcion}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputTextarea counter="counterDescr"
													value="#{prov.descripcion}"
													counterTemplate="Quedan {0} caracteres." maxlength="100"
													label="Descripcion" rows="3" cols="20" autoResize="false" />
												<h:outputText id="counterDescr" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Editar" style="width:50px" >
										<p:rowEditor rendered="#{e.flagColumnGeneral}" />
									</p:column>

									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnGeneral}"
											action="#{actSeguiExpe.deleteProvision}"
											update=":frmActExp:mytabView:accProvision:dtListProv :frmActExp:mytabView:botones"
											process="@this">
											<f:setPropertyActionListener target="#{e.selectedProvision}"
												value="#{prov}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>

								</p:dataTable>

							</p:outputPanel>


						</p:tab>



					</p:accordionPanel>

					<p:accordionPanel id="accRes" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_6}">
							
							<h:panelGrid columns="1" id="gridMsjResumen">
								<p:messages globalOnly="true" />
							</h:panelGrid>
					
							<h:panelGrid columns="6" id="gridRes">
								<h:outputLabel value="#{msjs.datos_expe_fec_resumen}" />
								<p:calendar value="#{e.fechaResumen}" pattern="dd/MM/yyyy" showOn="button"
									disabled="#{e.flagHabilitadoModificar}" maxlength="10"
									size="10">
									
								</p:calendar>

								<p:spacer width="20" />

								<h:outputLabel value="#{msjs.datos_expe_resumen}" />
								<h:panelGrid columns="1">
									<p:inputTextarea id="txtAreaResumen" counter="counterResumen"
										disabled="#{e.flagHabilitadoModificar}" value="#{e.resumen}"
										counterTemplate="Quedan {0} caracteres." maxlength="100"
										label="Resumen" rows="3" cols="60" autoResize="false">
									</p:inputTextarea>
									<h:outputText id="counterResumen" />
								</h:panelGrid>

								<p:commandButton update="gridMsjResumen gridRes txtAreaTodoResumen :frmActExp:mytabView:botones" ajax="true"
									process="gridRes"
									actionListener="#{actSeguiExpe.agregarTodoResumen}"
									disabled="#{e.flagHabilitadoModificar}" icon="ui-icon-plus" />

							</h:panelGrid>

							<p:inputTextarea id="txtAreaTodoResumen" value="#{e.todoResumen}" autoResize="false"
								rows="6" cols="90" readonly="true"
								disabled="#{e.flagHabilitadoModificar}" />

						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accActProc" activeIndex="1">
						<p:tab id="tabActProc" title="#{msjs.notif_activ_proc_titulo}">

							<h:panelGrid columns="1">
								
								<p:commandButton id="cmdBtnAnexo" icon="ui-icon-extlink"
									disabled="#{e.flagHabilitadoModificar}" type="button"
									onclick="dlgActProc.show();" />
					
							</h:panelGrid>

							<!-- Actividad Procesal -->
							<p:dialog widgetVar="dlgActProc" modal="true"
								id="dlgActProcPanel" header="Actividad Procesal">
								
								<h:panelGrid columns="1" id="gridMsjActPro">
									<p:messages globalOnly="true" />
								</h:panelGrid>
							
								<h:panelGrid columns="3" id="gridActProc">

									<h:outputLabel for="somActividad" value="Actividad:" />
									<p:selectOneMenu id="somActividad"
										value="#{e.actividadProcesal.actividad.nombre}" effect="fade"
										label="Actividad" style="width:110px;">
										<f:selectItem itemLabel="Seleccione" itemValue="" />
										<f:selectItems value="#{actSeguiExpe.actividadesString}"
											var="actv" itemLabel="#{actv}" itemValue="#{actv}" />
									</p:selectOneMenu>
									<p:message for="somActividad" />

									<h:outputLabel for="somEtapa" value="Etapa:" />
									<p:selectOneMenu id="somEtapa"
										value="#{e.actividadProcesal.etapa.nombre}" label="Etapa"
										effect="fade" style="width:110px;">
										<f:selectItem itemLabel="Seleccione" itemValue="" />
										<f:selectItems value="#{actSeguiExpe.etapasString}" var="etp"
											itemLabel="#{etp}" itemValue="#{etp}" />
									</p:selectOneMenu>
									<p:message for="somEtapa" />

									<h:outputLabel for="txtPlazo" value="Plazo de ley:" />
									<p:inputText id="txtPlazo"
										value="#{e.actividadProcesal.plazoLey}">
									</p:inputText>
									<p:message for="txtPlazo" />

									<h:outputLabel for="calAct" value="Fecha Actividad:" />
									<p:calendar value="#{e.actividadProcesal.fechaActividad}"
										id="calAct" pattern="dd/MM/yyyy" label="Fecha Actividad"
										showOn="button"
										maxlength="10" size="10">
									</p:calendar>
									<p:message for="calAct" />

									<h:outputLabel for="calVenc" value="Fecha Vencimiento:" />
									<p:calendar value="#{e.actividadProcesal.fechaVencimiento}"
										id="calVenc" pattern="dd/MM/yyyy" label="Fecha Vencimiento"
										showOn="button"
										maxlength="10" size="10">
									</p:calendar>
									<p:message for="calVenc" />

									<h:outputLabel for="somSituacion" value="Situacion:" />
									<p:selectOneMenu id="somSituacion"
										value="#{e.actividadProcesal.situacionActProc.nombre}"
										label="Situacion" effect="fade" style="width:110px;">
										<f:selectItem itemLabel="Seleccione" itemValue="" />
										<f:selectItems
											value="#{actSeguiExpe.situacionActProcesalesString}"
											var="stcAP" itemLabel="#{stcAP}" itemValue="#{stcAP}" />
									</p:selectOneMenu>
									<p:message for="somSituacion" />

								</h:panelGrid>
								<h:panelGrid columns="5">
								
									<p:commandButton
										actionListener="#{actSeguiExpe.agregarActividadProcesal}"
										ajax="true" process="gridActProc"
										update="gridActProc gridMsjActPro dtListActProc :frmActExp:mytabView:botones"
										value="Agregar"
										icon="ui-icon-plus" />
									
									<p:spacer width="10" height="20" />
									
									<p:commandButton value="Limpiar" icon="ui-icon-trash"
										actionListener="#{actSeguiExpe.limpiarActividadProcesal}"
										process="gridActProc" update="gridMsjActPro gridActProc" ajax="true" />
										
									<p:spacer width="10" height="20" />		
								
									<p:commandButton value="Cancelar"
										 icon="ui-icon-arrowreturnthick-1-w"
										 type="button" onclick="dlgActProc.hide();" />
										 
								</h:panelGrid>

							</p:dialog>

							<p:outputPanel id="dtListActProc">

								<p:dataTable id="dtActPro" var="actPro"
									value="#{e.actividadProcesales}" paginatorPosition="bottom"
									paginator="true" rows="5" editable="true"
									emptyMessage="No hay registros">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editActPro}" update=":frmActExp:mytabView:botones" />
									
									<p:column headerText="Actividad Procesal">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.actividad.nombre}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu effect="fade"
													value="#{actPro.actividad.nombre}" style="width:110px;">
													<f:selectItems value="#{actSeguiExpe.actividadesString}"
														var="s" itemLabel="#{s}" itemValue="#{s}" />
												</p:selectOneMenu>

											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Etapa">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.etapa.nombre}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{actPro.etapa.nombre}"
													effect="fade" style="width:110px;">
													<f:selectItems value="#{actSeguiExpe.etapasString}"
														var="etp" itemLabel="#{etp}" itemValue="#{etp}" />
												</p:selectOneMenu>

											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Plazo Ley">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.plazoLey}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{actPro.plazoLey}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Fecha Actividad">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.fechaActividadToString}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{actPro.fechaActividad}"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Fecha Vencimiento">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.fechaVencimientoToString}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{actPro.fechaVencimiento}"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Fecha Atencion">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.fechaAtencionToString}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{actPro.fechaAtencion}"
													pattern="dd/MM/yyyy" maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Situacion">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{actPro.situacionActProc.nombre}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{actPro.situacionActProc.nombre}"
													effect="fade" style="width:110px;">
													<f:selectItems
														value="#{actSeguiExpe.situacionActProcesalesString}"
														var="stcAP" itemLabel="#{stcAP}" itemValue="#{stcAP}" />
												</p:selectOneMenu>

											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor rendered="#{e.flagColumnGeneral}" />
									</p:column>
									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnGeneral}"
											action="#{actSeguiExpe.deleteActividadProcesal}"
											update=":frmActExp:mytabView:accActProc:dtListActProc :frmActExp:mytabView:botones"
											process="@this">
											<f:setPropertyActionListener target="#{e.selectedActPro}"
												value="#{actPro}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>

								</p:dataTable>

							</p:outputPanel>

						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accAnexo" activeIndex="1">

						<p:tab id="tabAnexo" title="#{msjs.notif_anex_titulo}">
							
							<h:panelGrid columns="1">
						
								<p:commandButton id="cmdBtnAnexo" icon="ui-icon-extlink"
									disabled="#{e.flagHabilitadoModificar}" type="button"
									onclick="dlgAnex.show();" />
					
							</h:panelGrid>

							<p:outputPanel id="dtListAnexo" style="text-align:center" styleClass="centered">

								<p:dataTable id="dtAnexo" var="anex" value="#{e.anexos}"
									emptyMessage="No hay anexos" style="width: 50%;"
									paginatorPosition="bottom" paginator="true" rows="5"
									editable="true">

									<p:ajax event="rowEdit" listener="#{actSeguiExpe.editAnexo}" update=":frmActExp:mytabView:botones" />
        
									<p:column headerText="Titulo">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{anex.titulo}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{anex.titulo}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Fecha">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{anex.fechaToString}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{anex.fechaInicio}" pattern="dd/MM/yyyy"
													maxlength="10" size="10" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Comentario">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{anex.comentario}"></h:outputText>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{anex.comentario}"></p:inputText>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Tipo">
										<h:outputText value="#{anex.formato}"></h:outputText>
									</p:column>
									<p:column headerText="Editar" style="width:50px">
										<p:rowEditor rendered="#{e.flagColumnGeneral}" />
									</p:column>
									<p:column headerText="Eliminar" style="width:50px">
										<p:commandButton icon="ui-icon-trash" id="del"
											rendered="#{e.flagColumnGeneral}"
											action="#{actSeguiExpe.deleteAnexo}"
											update=":frmActExp:mytabView:accAnexo:dtListAnexo :frmActExp:mytabView:botones"
											process="@this">
											<f:setPropertyActionListener target="#{e.selectedAnexo}"
												value="#{anex}" for="del">
											</f:setPropertyActionListener>
										</p:commandButton>
									</p:column>

								</p:dataTable>

							</p:outputPanel>

						</p:tab>

					</p:accordionPanel>

					<p:accordionPanel id="accRies" activeIndex="1">

						<p:tab title="#{msjs.datos_expe_sub_titulo_7}">
							<h:panelGrid columns="2">
								<h:outputLabel value="#{msjs.datos_expe_riesgo}" />
								<p:selectOneMenu id="somRiesgo" value="#{e.riesgo}"
									disabled="#{e.flagHabilitadoModificar}" effect="fade"
									style="width:100px;">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{actSeguiExpe.riesgos}" var="r"
										itemLabel="#{r.descripcion}" itemValue="#{r.idRiesgo}" />
									<p:ajax update=":frmActExp:mytabView:botones" listener="#{actSeguiExpe.cambioRiesgo}" event="change" />
								</p:selectOneMenu>

							</h:panelGrid>

						</p:tab>

					</p:accordionPanel>


					<h:panelGrid columns="7" id="botones">

						<p:commandButton value="Finalizar Instancia"
							rendered="#{e.flagBotonFinInst}"
							disabled="#{e.deshabilitarBotonFinInst}" icon="ui-icon-document-b"
							onclick="confirmationFinalInst.show()" />
						
						<p:spacer width="10" height="20" />
												
						<p:commandButton value="#{msjs.datos_expe_boton_guardar}"
							rendered="#{e.flagBotonGuardar}"
							disabled="#{e.deshabilitarBotonGuardar}" icon="ui-icon-disk"
							onclick="confirmationActRegistro.show()" />
						
						<p:spacer width="10" height="20" />
						
						<p:commandButton value="#{msjs.datos_expe_boton_limpiar}"
							rendered="#{e.flagBotonLimpiar}" icon="ui-icon-trash"
							ajax="true"
							update="accActExp accAbog accPers accCua accCauc accMed accProvision accRes accActProc accAnexo accRies"
							actionListener="#{actSeguiExpe.limpiar}" />
							
						<p:spacer width="10" height="20" />

						<p:commandButton value="Home"
							rendered="#{e.flagBotonHome}"
							immediate="true"
							icon="ui-icon-home" ajax="false"
							action="#{actSeguiExpe.home}" />

					</h:panelGrid>

					<p:confirmDialog
						message="¿ Est&#225; seguro de actualizar el expediente ?"
						width="300" showEffect="explode" hideEffect="explode"
						header="Mensaje de Confirmaci&#243;n" severity="alert"
						widgetVar="confirmationActRegistro" modal="true">

						<p:commandButton value="Si" ajax="false" icon="ui-icon-check"
							actionListener="#{actSeguiExpe.actualizar}" update=":frmActExp :frmActExp:mytabView:botones"
							oncomplete="confirmationActRegistro.hide()" />

						<p:commandButton value="No" icon="ui-icon-close"
							onclick="confirmationActRegistro.hide()" type="button" />

					</p:confirmDialog>

					<p:confirmDialog message="¿ Apela la instancia ?" width="300"
						header="Mensaje de Confirmaci&#243;n"
						showEffect="explode" hideEffect="explode" severity="alert"
						widgetVar="confirmationFinalInst" modal="true">

						<p:commandButton value="Si" icon="ui-icon-check"
							onclick="confirmationFinalInst.hide(); dlgProxInst.show();"
							type="button" />

						<p:commandButton value="No" icon="ui-icon-close"
							onclick="confirmationFinalInst.hide(); dlgFinProceso.show();"
							type="button" />

					</p:confirmDialog>


				</p:tab>

			</p:tabView>

		</h:form>
		
		<!-- Mantenimiento de Anexo -->
		<p:dialog widgetVar="dlgAnex" id="dlgAnexPanel" modal="true"
			header="Agregar Anexo">

			<h:form id="frmManAnexo" enctype="multipart/form-data" >

				<h:panelGrid columns="1" id="gridMsjAnex">
					<p:messages globalOnly="true" />
				</h:panelGrid>
				
				<p:fileUpload 
					invalidFileMessage="Formato invalido"
					auto="true"
					label="Examinar"
					id="fileUpload1" 
					showButtons="false"
					fileUploadListener="#{actSeguiExpe.handleFileUpload}"
					mode="advanced"
					update="fileDoc"
					allowTypes="/(\.|\/)(doc|docx|pdf)$/"
					/>
				<p:growl id="fileDoc" showDetail="true"/>
			
				<h:panelGrid id="gridAnexo" columns="3">
				
					<h:outputText value="Titulo:"></h:outputText>
					<p:inputText id="docTit" value="#{actSeguiExpe.anexo.titulo}"></p:inputText>
					<p:message for="docTit" />
	
					<h:outputText value="Comentario:"></h:outputText>
					<h:panelGrid columns="1">
						<p:inputTextarea id="docCom" counter="counterComentario"
							value="#{actSeguiExpe.anexo.comentario}"
							counterTemplate="Quedan {0} caracteres." rows="2" cols="10"
							maxlength="20" autoResize="false">
						</p:inputTextarea>
						<h:outputText id="counterComentario" />
					</h:panelGrid>
					<p:message for="docCom" />
	
					<h:outputText value="Fecha:"></h:outputText>
					<p:calendar value="#{actSeguiExpe.anexo.fechaInicio}" pattern="dd/MM/yyyy"
						id="calFec" />
					<p:message for="calFec" />

				</h:panelGrid>
			
				<h:panelGrid columns="5">
				
					<p:commandButton actionListener="#{actSeguiExpe.agregarAnexo}"
						ajax="true" process="@form" 
						update="gridMsjAnex fileUpload1 gridAnexo :frmActExp:mytabView"
						value="Agregar"
						icon="ui-icon-plus" />
	
					<p:spacer width="10" height="20" />	
					
					<p:commandButton value="Limpiar" icon="ui-icon-trash"
						actionListener="#{actSeguiExpe.limpiarAnexo}"
						process="@form" update="gridAnexo gridMsjAnex fileUpload1" ajax="true" />
				
					<p:spacer width="10" height="20" />
						
					<p:commandButton value="Cerrar" icon="ui-icon-close"
						ajax="true"
						actionListener="#{actSeguiExpe.limpiarAnexo}" update="gridMsjAnex gridAnexo fileUpload1"
						oncomplete="dlgAnex.hide();" />
						
				</h:panelGrid>
			
			</h:form>

		</p:dialog>

		<!-- Mantenimiento de Organo  -->
		<p:dialog widgetVar="dlgOrg" modal="true" id="dlgOrgPanel"
			header="Mantenimiento de Organo">

			<h:form id="frmManOrg">

				<h:panelGrid columns="1" id="gridMsj">
					<p:messages globalOnly="true" />
				</h:panelGrid>

				<h:panelGrid id="gridManOrg" columns="3">
					<h:outputLabel value="Entidad :" />
					<p:selectOneMenu value="#{actSeguiExpe.organo.entidad.idEntidad}"
						id="somEntidad" effect="fade" style="width:100px;">
						<f:selectItem itemLabel="Seleccione" itemValue="" />
						<f:selectItems value="#{actSeguiExpe.entidades}" var="entidad"
							itemLabel="#{entidad.nombre}" itemValue="#{entidad.idEntidad}" />

					</p:selectOneMenu>
					<p:message for="somEntidad" />

					<h:outputLabel value="Organo :" />
					<p:inputText id="txtOrganoNom"
						value="#{actSeguiExpe.organo.nombre}" />
					<p:message for="txtOrganoNom" />

					<h:outputLabel value="Distrito :" />
					<p:autoComplete id="acDistrito" forceSelection="true"
						value="#{actSeguiExpe.organo.ubigeo}" var="ubig"
						converter="ubigeoConverter"
						itemValue="#{ubig}" itemLabel="#{ubig.descripcionDistrito}"
						completeMethod="#{actSeguiExpe.completeDistrito}" size="35">
					</p:autoComplete>
					<p:message for="acDistrito" />

				</h:panelGrid>

				<h:panelGrid columns="5">
				
					<p:commandButton value="Buscar" icon="ui-icon-search"
						update="gridMsj dtlistOrganos"
						actionListener="#{actSeguiExpe.buscarOrganos}" ajax="true"
						process="@form" />

					<p:spacer width="10" height="20" />

					<p:commandButton value="Agregar" icon="ui-icon-plus"
						update="gridMsj dtlistOrganos"
						actionListener="#{actSeguiExpe.agregarOrgano}" ajax="true"
						process="@form" />
					
					<p:spacer width="10" height="20" />
								
					<p:commandButton value="Limpiar" icon="ui-icon-trash"
						update="gridMsj gridManOrg dtlistOrganos" process="@form"
						actionListener="#{actSeguiExpe.limpiarOrgano}" ajax="true" />

				</h:panelGrid>

				<p:outputPanel id="dtlistOrganos">

					<p:dataTable value="#{actSeguiExpe.organoDataModel}" var="tbl_orgn"
						id="organoTable" paginator="true" rows="5"
						emptyMessage="No hay organos" paginatorPosition="bottom"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
						rowKey="#{tbl_orgn.idOrgano}" 
						selectionMode="single"
						dblClickSelect="true"
						selection="#{actSeguiExpe.selectedOrgano}"
						rowsPerPageTemplate="5,10,15">

						<p:ajax event="rowDblselect" listener="#{actSeguiExpe.seleccionarOrgano}" 
						update=":frmActExp:mytabView" oncomplete="dlgOrg.hide()" />  
						
						<p:column>
							<f:facet name="header">
								<h:outputText value="Organo Jurisdiccional" />
							</f:facet>
							<h:outputText value="#{tbl_orgn.nombre}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Distrito" />
							</f:facet>
							<h:outputText value="#{tbl_orgn.ubigeo.distrito}" />
						</p:column>


					</p:dataTable>
					<p:message for="organoTable" />

				</p:outputPanel>
			</h:form>


		</p:dialog>

		<!-- Mantenimiento de Abogado -->
		<p:dialog widgetVar="dlgAbog" modal="true" id="dlgAbogPanel"
			header="Mantenimiento de Abogado">
			<h:form id="frmManAbog">

				<h:panelGrid columns="1" id="gridMsj">
					<p:messages globalOnly="true" />
				</h:panelGrid>

				<h:panelGrid columns="3" id="gridAbog">

					<h:outputText value="Estudio :" />
					<p:autoComplete value="#{actSeguiExpe.estudio}"
						var="e"
						forceSelection="true"
						converter="estudioConverter"
						itemLabel="#{e.nombre}" itemValue="#{e}"
						size="25" id="acEstudio" label="Estudio"
						completeMethod="#{actSeguiExpe.completeEstudio}" />
					<p:message for="acEstudio" />

					<h:outputText value="Registro CA :" />
					<p:inputText value="#{actSeguiExpe.abogado.registroca}"
						id="txtRegistroCA" label="Registro CA" size="20" />
					<p:message for="txtRegistroCA" />

					<h:outputText value="DNI :" />
					<p:inputText id="txtDNI" value="#{actSeguiExpe.abogado.dni}"
						label="DNI" maxlength="8">
					</p:inputText>
					<p:message for="txtDNI" />

					<h:outputText value="Nombre :" />
					<p:inputText id="txtNombre" value="#{actSeguiExpe.abogado.nombres}"
						size="25" />
					<p:message for="txtNombre" />

					<h:outputText value="Apellido Paterno :" />
					<p:inputText id="txtApePaterno"
						value="#{actSeguiExpe.abogado.apellidoPaterno}" size="20" />
					<p:message for="txtApePaterno" />

					<h:outputText value="Apellido Materno :" />
					<p:inputText id="txtApeMaterno"
						value="#{actSeguiExpe.abogado.apellidoMaterno}" size="20" />
					<p:message for="txtApeMaterno" />

					<h:outputText value="Telefono :" />
					<p:inputMask id="txtTelefono"
						value="#{actSeguiExpe.abogado.telefono}" mask="9999999" />
					<p:message for="txtTelefono" />

					<h:outputText value="Correo :" />
					<p:inputText id="txtCorreo" value="#{actSeguiExpe.abogado.correo}"
						size="20" />
					<p:message for="txtCorreo" />

				</h:panelGrid>

				<h:panelGrid columns="5">
				
					<p:commandButton value="Buscar" icon="ui-icon-search"
						actionListener="#{actSeguiExpe.buscarAbogado}"
						update="gridMsj dtAbogado" ajax="true" process="@form" />
					
					<p:spacer width="10" height="20" />
					
					<p:commandButton value="Agregar" icon="ui-icon-plus"
						actionListener="#{actSeguiExpe.agregarAbogado}"
						update="gridMsj dtAbogado" process="@form" ajax="true" />
					
					<p:spacer width="10" height="20" />
					
					<p:commandButton value="Limpiar" icon="ui-icon-trash"
						actionListener="#{actSeguiExpe.limpiarAbogado}"
						update="gridMsj gridAbog dtAbogado" process="@form" ajax="true" />
						
				</h:panelGrid>

				<p:outputPanel id="dtAbogado">

					<p:dataTable value="#{actSeguiExpe.abogadoDataModel}"
						var="tblAbogado" paginator="true" emptyMessage="No hay abogados"
						paginatorPosition="bottom" rows="5"
						rowKey="#{tblAbogado.idAbogado}"
						dblClickSelect="true"
						selectionMode="single"
						selection="#{actSeguiExpe.selectedAbogado}"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
						rowsPerPageTemplate="5,10,15">

						<p:ajax event="rowDblselect" listener="#{actSeguiExpe.seleccionarAbogado}" update=":frmActExp:mytabView" oncomplete="dlgAbog.hide()" />  
						
						<p:column headerText="Nombre">#{tblAbogado.nombres}</p:column>
						<p:column headerText="DNI">#{tblAbogado.dni}</p:column>
						<p:column headerText="RCA">#{tblAbogado.registroca}</p:column>


					</p:dataTable>

				</p:outputPanel>

			</h:form>

		</p:dialog>

		<!-- Mantenimiento de Persona -->
		<p:dialog widgetVar="dlgDetPers" modal="true" id="dlgMDetPers"
			header="Mantenimiento de Persona">

			<h:form id="frmManPers">

				<h:panelGrid columns="1" id="gridMsj">
					<p:messages globalOnly="true" />
				</h:panelGrid>

				<h:panelGrid columns="3" id="gridPers">

					<h:outputLabel value="Clase :" />
					<p:selectOneMenu id="somClase"
						value="#{actSeguiExpe.persona.clase.idClase}" effect="fade"
						label="Clase" style="width:100px;">
						<f:selectItem itemLabel="Seleccione" itemValue="" />
						<f:selectItems value="#{actSeguiExpe.clases}" var="clase"
							itemLabel="#{clase.descripcion}" itemValue="#{clase.idClase}" />
					</p:selectOneMenu>
					<p:message for="somClase" />

					<h:outputLabel value="Cod. Cliente :" />
					<p:inputText id="txtCodCliente" label="CodCliente"
						value="#{actSeguiExpe.persona.codCliente}" />
					<p:message for="txtCodCliente" />

					<h:outputLabel value="Tipo Doc :" />
					<p:selectOneMenu id="somTipoDoc" label="Tipo Documento"
						value="#{actSeguiExpe.persona.tipoDocumento.idTipoDocumento}"
						effect="fade" style="width:120px;">
						<f:selectItem itemLabel="Seleccione" itemValue="" />
						<f:selectItems value="#{actSeguiExpe.tipoDocumentos}"
							var="tipoDoc" itemLabel="#{tipoDoc.descripcion}"
							itemValue="#{tipoDoc.idTipoDocumento}" />
					</p:selectOneMenu>
					<p:message for="somTipoDoc" />

					<h:outputLabel value="Nro Documento :" />
					<p:inputText id="txtNroDoc" label="Nro Documento"
						value="#{actSeguiExpe.persona.numeroDocumento}">
					</p:inputText>
					<p:message for="txtNroDoc" />

					<h:outputLabel value="Nombre/Razon Social :" />
					<p:inputText id="txtRaz" value="#{actSeguiExpe.persona.nombres}" />
					<p:message for="txtRaz" />

					<h:outputLabel value="Apellido Paterno :" />
					<p:inputText id="txtApePat"
						value="#{actSeguiExpe.persona.apellidoPaterno}" />
					<p:message for="txtApePat" />

					<h:outputLabel value="Apellido Materno :" />
					<p:inputText id="txtApeMat"
						value="#{actSeguiExpe.persona.apellidoMaterno}" />
					<p:message for="txtApeMat" />

				</h:panelGrid>

				<h:panelGrid columns="5">

					<p:commandButton value="Buscar" update="gridMsj dtPersonas"
						icon="ui-icon-search"
						actionListener="#{actSeguiExpe.buscarPersona}" ajax="true"
						process="@form" />
					
					<p:spacer width="10" height="20" />
					
					<p:commandButton value="Agregar" icon="ui-icon-plus"
						update="gridMsj dtPersonas"
						actionListener="#{actSeguiExpe.agregarPersona}" ajax="true"
						process="@form" />
					
					<p:spacer width="10" height="20" />
					
					<p:commandButton value="Limpiar" icon="ui-icon-trash"
						actionListener="#{actSeguiExpe.limpiarPersona}"
						update="gridMsj gridPers dtPersonas" process="@form" ajax="true" />

				</h:panelGrid>


				<p:outputPanel id="dtPersonas">
				
					<p:dataTable value="#{actSeguiExpe.personaDataModelBusq}"
						var="tblPers" rows="5" rowKey="#{tblPers.idPersona}"
						dblClickSelect="true"
						selectionMode="single" paginatorPosition="bottom"
						emptyMessage="No hay personas" paginator="true"
						selection="#{actSeguiExpe.selectPersona}"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
						rowsPerPageTemplate="5,10,15">

						<p:ajax event="rowDblselect" listener="#{actSeguiExpe.seleccionarPersona}" update=":frmActExp:mytabView" oncomplete="dlgDetPers.hide()" />  
						
						<p:column>
							<f:facet name="header">
								<h:outputText value="Nombre" />
							</f:facet>
							<h:outputText value="#{tblPers.nombres}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Documento" />
							</f:facet>
							<h:outputText value="#{tblPers.tipoDocumento.descripcion}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Numero" />
							</f:facet>
							<h:outputText value="#{tblPers.numeroDocumento}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Tipo" />
							</f:facet>
							<h:outputText value="#{tblPers.clase.descripcion}" />
						</p:column>

					</p:dataTable>
				</p:outputPanel>
			</h:form>

		</p:dialog>
		
		<!-- Mantenimiento de Inculpado -->
		<p:dialog widgetVar="dlgDetInc" modal="true" id="dlgMDetInc"
			header="Mantenimiento de Persona">

			<h:form id="frmManInc">

				<h:panelGrid columns="1" id="gridMsj">
					<p:messages id="msjPers" globalOnly="true" />
				</h:panelGrid>

				<h:panelGrid columns="3" id="gridPers">

					<h:outputLabel value="Clase :" />
					<p:selectOneMenu id="somClase"
						value="#{actSeguiExpe.persona.clase.idClase}" effect="fade"
						label="Clase" style="width:100px;">
						<f:selectItem itemLabel="Seleccione" itemValue="" />
						<f:selectItems value="#{registExpe.clases}" var="clase"
							itemLabel="#{clase.descripcion}" itemValue="#{clase.idClase}" />
					</p:selectOneMenu>
					<p:message for="somClase" />

					<h:outputLabel value="Cod. Cliente :" />
					<p:inputText id="txtCodCliente" label="CodCliente"
						value="#{actSeguiExpe.persona.codCliente}" />
					<p:message for="txtCodCliente" />

					<h:outputLabel value="Tipo Doc :" />
					<p:selectOneMenu id="somTipoDoc" label="Tipo Documento"
						value="#{actSeguiExpe.persona.tipoDocumento.idTipoDocumento}"
						effect="fade" style="width:120px;">
						<f:selectItem itemLabel="Seleccione" itemValue="" />
						<f:selectItems value="#{registExpe.tipoDocumentos}" var="tipoDoc"
							itemLabel="#{tipoDoc.descripcion}"
							itemValue="#{tipoDoc.idTipoDocumento}" />
					</p:selectOneMenu>
					<p:message for="somTipoDoc" />

					<h:outputLabel value="Nro Documento :" />
					<p:inputText id="txtNroDoc" label="Nro Documento"
						value="#{actSeguiExpe.persona.numeroDocumento}">
					</p:inputText>
					<p:message for="txtNroDoc" />

					<h:outputLabel value="Nombre/Razon Social :" />
					<p:inputText id="txtRaz" value="#{actSeguiExpe.persona.nombres}" />
					<p:message for="txtRaz" />

					<h:outputLabel value="Apellido Paterno :" />
					<p:inputText id="txtApePat"
						value="#{actSeguiExpe.persona.apellidoPaterno}" />
					<p:message for="txtApePat" />

					<h:outputLabel value="Apellido Materno :" />
					<p:inputText id="txtApeMat"
						value="#{actSeguiExpe.persona.apellidoMaterno}" />
					<p:message for="txtApeMat" />

				</h:panelGrid>

				<h:panelGrid columns="5">

					<p:commandButton value="Buscar" update="gridMsj dtPersonas"
						icon="ui-icon-search"
						actionListener="#{actSeguiExpe.buscarPersona}" ajax="true"
						process="@form" />
					
					<p:spacer width="10" height="20" />	
					
					<p:commandButton value="Agregar"
						icon="ui-icon-plus"
						update="gridMsj dtPersonas"
						actionListener="#{actSeguiExpe.agregarPersona}" ajax="true"
						process="@form" />
						
					<p:spacer width="10" height="20" />
					
					<p:commandButton value="Limpiar" icon="ui-icon-trash"
						actionListener="#{actSeguiExpe.limpiarPersona}"
						update="gridMsj gridPers dtPersonas" process="@form" ajax="true" />

				</h:panelGrid>


				<p:outputPanel id="dtPersonas">
					<p:dataTable value="#{actSeguiExpe.personaDataModelBusq}"
						var="tblPers" rows="5" rowKey="#{tblPers.idPersona}"
						selectionMode="single" paginatorPosition="bottom"
						dblClickSelect="true"
						emptyMessage="No hay personas" paginator="true"
						selection="#{actSeguiExpe.selectInvolucrado}"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
						rowsPerPageTemplate="5,10,15">

						<p:ajax event="rowDblselect" listener="#{actSeguiExpe.seleccionarInvolucrado}" update=":frmActExp:mytabView" oncomplete="dlgDetInc.hide()" />  
						
						<p:column>
							<f:facet name="header">
								<h:outputText value="Nombre" />
							</f:facet>
							<h:outputText value="#{tblPers.nombres}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Documento" />
							</f:facet>
							<h:outputText value="#{tblPers.tipoDocumento.descripcion}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Numero" />
							</f:facet>
							<h:outputText value="#{tblPers.numeroDocumento}" />
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Tipo" />
							</f:facet>
							<h:outputText value="#{tblPers.clase.descripcion}" />
						</p:column>

					</p:dataTable>
				</p:outputPanel>
			</h:form>

		</p:dialog>

		<!-- Proxima Instancia  -->
		<p:dialog widgetVar="dlgProxInst" modal="true" id="dlgProxInstPanel"
			header="Proxima Instancia">

			<h:form id="frmProxInst">

				<h:panelGrid columns="1" id="gridMsj">
					<p:messages globalOnly="true" />
				</h:panelGrid>

				<h:panelGrid id="gridProxInst" columns="3">

					<h:outputLabel for="acFormaConclusion" value="Forma de Conclusion:" />
					<p:autoComplete required="true"
						forceSelection="true"
						completeMethod="#{actSeguiExpe.completeFormaConclusion}"
						id="acFormaConclusion" value="#{actSeguiExpe.formaConclusion2}"
						var="conclusion" itemLabel="#{conclusion.descripcion}"
						itemValue="#{conclusion}" converter="conclusionConverter"
						size="25">

					</p:autoComplete>
					<p:message for="acFormaConclusion" />
					
					<h:outputLabel for="calFinInst" value="Fin Instancia:" />
					<p:calendar value="#{actSeguiExpe.finInstancia}" id="calFinInst"
						pattern="dd/MM/yyyy" required="true" label="Fin Instancia"
						showOn="button" maxlength="10" size="10">
					</p:calendar>
					<p:message for="calFinInst" />
					
					<h:outputLabel for="somInstancia" value="Instancia Proxima" />
					<p:selectOneMenu value="#{actSeguiExpe.instanciaProxima}"
						id="somInstancia" effect="fade" style="width:110px;"
						required="true" label="Instancia">
						<f:selectItem itemLabel="Seleccione" itemValue="" />
						<f:selectItems value="#{actSeguiExpe.instanciasProximas}"
							var="instancia" itemLabel="#{instancia.nombre}"
							itemValue="#{instancia.idInstancia}" />
					</p:selectOneMenu>
					<p:message for="somInstancia" />
					
				</h:panelGrid>

				<h:panelGrid columns="3">
					<p:commandButton value="Aceptar" update=":frmActExp" icon="ui-icon-check"
						actionListener="#{actSeguiExpe.crearProximaInstancia}"
						process="@form" ajax="false" />

					<p:spacer width="10" height="20" />

					<p:commandButton value="Cancelar"  icon="ui-icon-close" 
						onclick="dlgProxInst.hide();" type="button" />

				</h:panelGrid>


			</h:form>


		</p:dialog>

		<!-- Finalizar el Proceso  -->
		<p:dialog widgetVar="dlgFinProceso" modal="true"
			id="dlgFinProcesoPanel" header="Finalizar Proceso">

			<h:form id="frmFinProceso">

				<h:panelGrid columns="1" id="gridMsj">
					<p:messages globalOnly="true" />
				</h:panelGrid>

				<h:panelGrid id="gridFinProceso" columns="3">
					
					<h:outputLabel for="acFormaConclusion" value="Forma de Conclusion:" />
					<p:autoComplete required="true" forceSelection="true"
						completeMethod="#{actSeguiExpe.completeFormaConclusion}"
						id="acFormaConclusion" value="#{actSeguiExpe.formaConclusion2}"
						var="conclusion" itemLabel="#{conclusion.descripcion}"
						itemValue="#{conclusion}" converter="conclusionConverter"
						size="25">
					</p:autoComplete>
					<p:message for="acFormaConclusion" />
					
					<h:outputLabel for="calFinPro" value="Fin Proceso:" />
					<p:calendar value="#{actSeguiExpe.finInstancia}" id="calFinPro"
						pattern="dd/MM/yyyy" required="true" label="Fin Proceso" showOn="button"
						maxlength="10" size="10">
					</p:calendar>
					<p:message for="calFinPro" />

				</h:panelGrid>

				<h:panelGrid columns="3">
					<p:commandButton value="Aceptar" update=":frmActExp" icon="ui-icon-check"
						actionListener="#{actSeguiExpe.finalizarProceso}" process="@form"
						ajax="false" />

					<p:spacer width="10" height="20" />

					<p:commandButton value="Cancelar" icon="ui-icon-close" 
						onclick="dlgFinProceso.hide();" type="button" />

				</h:panelGrid>


			</h:form>


		</p:dialog>
		
		
	</ui:define>

</ui:composition>

</html>

