<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="../WEB-INF/plantilla/layout.xhtml">

	<ui:define name="contenido">

		<h:form id="frmActExp">
		
			<h2>Actualizacion y Seguimiento de Expediente NÂº A11-123</h2>

			<p:accordionPanel id="accActExp">

					<p:tab title="#{msjs.datos_expe_titulo}">

						<h:panelGrid columns="11">

							<h:outputLabel for="txtNroExpeOficial"
								value="#{msjs.datos_expe_nro}" />
								
							<p:inputMask value="#{actSeguiExpe.nroExpeOficial}" id="txtNroExpeOficial" 
							required="true" label="Nro Expediente" mask="999-9999" >
							</p:inputMask>

							<p:message id="msgNroExpeOficial" for="txtNroExpeOficial" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_ini_proceso}" />
							<p:calendar value="#{actSeguiExpe.iniProceso}" id="calIniPro"
								showOn="button" pattern="dd/MM/yyyy" required="true"
								label="Fecha de Inicio" title="Escoje una fecha">
							</p:calendar>
							<p:message for="calIniPro" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_estado}" />

							<p:selectOneMenu value="#{actSeguiExpe.estado}" id="somEstado"
								effect="fade" required="true" label="Estado" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.estados}" />
							</p:selectOneMenu>
							<p:message for="somEstado" />

						</h:panelGrid>
						<h:panelGrid columns="15">

							<h:outputLabel value="#{msjs.datos_expe_proceso}" />
							<p:selectOneMenu id="somProceso" value="#{actSeguiExpe.proceso}"
								required="true" label="Proceso" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.procesos}" />
								<p:ajax update="somVia accActExp"
									listener="#{actSeguiExpe.cambioProceso}" />
							</p:selectOneMenu>
							<p:message for="somProceso" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_via}" />
							<p:selectOneMenu id="somVia" value="#{actSeguiExpe.via}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.vias}" />
							</p:selectOneMenu>
							<p:message for="somVia" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_instancia}" />
							<p:selectOneMenu value="#{actSeguiExpe.instancia}"
								id="somInstancia" effect="fade" required="true"
								label="Instancia" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.instancias}" />
							</p:selectOneMenu>
							<p:message for="somInstancia" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_responsable}" />
							<p:autoComplete id="acResponsable"
								value="#{actSeguiExpe.responsable}"
								completeMethod="#{actSeguiExpe.completeResponsable}" var="resp"
								itemLabel="#{resp.descripcionResponsable}" itemValue="#{resp}"
								converter="usuarioConverter" size="30">

							</p:autoComplete>
							<p:message for="acResponsable" />

						</h:panelGrid>


						<h:panelGrid columns="14">

							<h:outputLabel value="#{msjs.datos_expe_oficina}" />

							<p:autoComplete id="acOficina" value="#{actSeguiExpe.oficina}"
								var="ofic" itemLabel="#{ofic.descripcion}" itemValue="#{ofic}"
								converter="oficinaConverter"
								completeMethod="#{actSeguiExpe.completeOficina}" size="45">

							</p:autoComplete>

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_tipo}" />
							<p:selectOneMenu id="somTipo" value="#{actSeguiExpe.tipo}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.tipos}" />
							</p:selectOneMenu>
							<p:message for="somTipo" />

							<h:outputLabel value="#{msjs.datos_expe_organo}" />

							<p:autoComplete id="acOrgano" value="#{actSeguiExpe.organotxt}"
								completeMethod="#{actSeguiExpe.completeOrgano}" size="45">

							</p:autoComplete>
							<p:message for="acOrgano" />

							<p:commandButton id="panelOrganoBtn" icon="ui-icon-extlink"
								type="button" onclick="dlgOrg.show();" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_secretario}" />
							<p:inputText value="#{actSeguiExpe.secretario}"
								id="txtSecretario" />

						</h:panelGrid>

						<h:panelGrid columns="5">
							<h:outputLabel value="#{msjs.datos_expe_calificacion}" />
							<p:selectOneMenu id="somCalificacion"
								value="#{actSeguiExpe.calificacion}" effect="fade"
								required="true" label="Calificacion" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.calificaciones}" />
							</p:selectOneMenu>

							<p:spacer width="20" height="20" />

							<h:outputLabel value="#{msjs.datos_expe_recurrencia}" />
							<p:inputText value="#{actSeguiExpe.recurrencia}" size="25" />


						</h:panelGrid>




					</p:tab>


					<p:tab title="#{msjs.datos_expe_sub_titulo_1}"
						disabled="#{actSeguiExpe.tabAsigEstExt}">

						<h:panelGrid columns="16">

							<h:outputLabel value="#{msjs.datos_expe_abogado}" />

							<p:autoComplete id="acAbogado"
								value="#{actSeguiExpe.abogado.nombre}"
								completeMethod="#{actSeguiExpe.completeAbogado}" />

							<p:commandButton id="pnlDetAbogado" icon="ui-icon-extlink"
								type="button" onclick="dlgAbog.show();" />


							<h:outputLabel value="Tipo Honorario :" />
							<p:selectOneMenu
								value="#{actSeguiExpe.abogado.estudio.tipoHonorario}"
								effect="fade" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItem itemLabel="4ta Categ" itemValue="001" />
								<f:selectItem itemLabel="Planilla" itemValue="002" />
							</p:selectOneMenu>
							
							
							<h:outputLabel value="Nro Cuotas :" />
							<p:spinner id="spnCuotas" size="5"
								value="#{actSeguiExpe.abogado.estudio.nroCuotas}" min="1"
								max="100" />

							<h:outputLabel value="Moneda :" />
							<p:selectOneMenu value="#{actSeguiExpe.abogado.estudio.moneda}"
								effect="fade" style="width:100px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.monedas}" />
							</p:selectOneMenu>

							<h:outputLabel value="Monto a Pagar :" />
							<p:inputText value="#{actSeguiExpe.abogado.estudio.montoPagar}" size="7" />

							<h:outputLabel value="Situacion :" />
							<p:selectOneMenu id="somSituacEstudio"
								value="#{actSeguiExpe.abogado.estudio.situacion}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.listSituacion}" />
							</p:selectOneMenu>

							<p:message for="somSituacEstudio" />

							<p:commandButton value="+" update="tableEstudio"
								actionListener="#{actSeguiExpe.agregarEstudio}" ajax="false" />

						</h:panelGrid>

						<h:panelGrid columns="1">

							<p:dataTable value="#{actSeguiExpe.estudioDataModel}"
								id="tableEstudio" var="tblEstudio" paginator="true" rows="3"
								paginatorPosition="bottom"
								paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
								emptyMessage="No hay registros">


								<p:column headerText="Estudio">#{tblEstudio.nombre}</p:column>
								<p:column headerText="Abogado">#{actSeguiExpe.abogado.nombre}</p:column>
								<p:column headerText="Tipo">#{tblEstudio.tipoHonorario}</p:column>
								<p:column headerText="Moneda">#{tblEstudio.moneda}</p:column>
								<p:column headerText="Cuotas">#{tblEstudio.nroCuotas}</p:column>
								<p:column headerText="Total Pagar">#{tblEstudio.montoPagar}</p:column>
								<p:column headerText="Situacion">#{tblEstudio.situacion}</p:column>
								<p:column headerText="Detalle" style="width:16px">
									<p:commandLink value="Detalle"
										onclick="dlgDetalleHonorario.show();"
										action="#{actSeguiExpe.iniDetalleHonorario}" ajax="true">
										<f:param name="registroCA"
											value="#{tblEstudio.abogado.registroCA}"></f:param>
									</p:commandLink>
								</p:column>

							</p:dataTable>


						</h:panelGrid>



					</p:tab>

					<p:tab title="#{msjs.datos_expe_sub_titulo_2}">
						<h:panelGrid columns="12">

							<h:outputLabel value="#{msjs.datos_expe_nombre}" />
							<p:autoComplete value="#{actSeguiExpe.persona.nombreCompleto}"
								completeMethod="#{actSeguiExpe.completePersona}" id="acPersona" />
							<p:message for="acPersona" />

							<p:commandButton id="panelDetPersBtn" icon="ui-icon-extlink"
								type="button" onclick="dlgDetPers.show();" />



							<h:outputLabel value="Rol :" />
							<p:selectOneMenu value="#{actSeguiExpe.persona.rol}"
								effect="fade" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItem itemLabel="Rol 1" itemValue="001" />
								<f:selectItem itemLabel="Rol 2" itemValue="002" />
								<f:selectItem itemLabel="Rol 3" itemValue="003" />
							</p:selectOneMenu>



							<h:outputLabel value="Tipo :" />
							<p:selectOneMenu value="#{actSeguiExpe.persona.tipo}"
								effect="fade" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItem itemLabel="Tipo 1" itemValue="001" />
								<f:selectItem itemLabel="Tipo 2" itemValue="002" />
								<f:selectItem itemLabel="Tipo 3" itemValue="003" />
							</p:selectOneMenu>

							<h:outputLabel value="Referencia :" />
							<p:inputText id="txtPersRef"
								value="#{actSeguiExpe.persona.referencia}" />


							<p:commandButton value="+"
								actionListener="#{actSeguiExpe.agregarPersona}"
								update="pnlDetPers" ajax="true" />


						</h:panelGrid>

						<h:panelGrid columns="1">
							<p:outputPanel id="pnlDetPers">
								<p:dataTable value="#{actSeguiExpe.personaDataModel}"
									var="tblPers" paginator="true" paginatorPosition="bottom"
									emptyMessage="No hay registros" rows="3"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
									rowsPerPageTemplate="5,10,15">
									<p:column headerText="Nombre">#{tblPers.nombreCompleto}</p:column>
									<p:column headerText="Documento">#{tblPers.tipoDoc}</p:column>
									<p:column headerText="Numero">#{tblPers.nroDoc}</p:column>
									<p:column headerText="Cod. Cliente">#{tblPers.codCliente}</p:column>
									<p:column headerText="Tipo">#{tblPers.tipo}</p:column>
									<p:column headerText="Clase">#{tblPers.clase}</p:column>
									<p:column headerText="Rol">#{tblPers.rol}</p:column>
									<p:column headerText="Referencia">#{tblPers.referencia}</p:column>
								</p:dataTable>

							</p:outputPanel>

						</h:panelGrid>

					</p:tab>

					<p:tab title="#{msjs.datos_expe_sub_titulo_3}"
						disabled="#{actSeguiExpe.tabCuanMat}">

						<h:panelGrid columns="7">

							<h:outputLabel value="Moneda :" />
							<p:selectOneMenu value="#{actSeguiExpe.cuantia.moneda}"
								effect="fade" style="width:100px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.monedas}" />
							</p:selectOneMenu>

							<h:outputLabel value="Pretendido :" />

							<p:inputText id="txtCuantPretend"
								value="#{actSeguiExpe.cuantia.pretendido}" />

							<h:outputLabel value="Materia :" />

							<p:autoComplete value="#{actSeguiExpe.cuantia.materia}"
								id="acCuantMat"
								completeMethod="#{actSeguiExpe.completeMaterias}">
							</p:autoComplete>

							<p:commandButton id="agregarCuantiaBtn" value="+"
								update="dtListCuantia" ajax="true"
								actionListener="#{actSeguiExpe.agregarCuantia}" />

						</h:panelGrid>

						<h:panelGrid columns="1">


							<p:outputPanel id="dtListCuantia">

								<p:dataTable id="est_cuantia" var="cuant"
									value="#{actSeguiExpe.cuantiaDataModel}"
									paginatorPosition="bottom" paginator="true" rows="5"
									selection="#{actSeguiExpe.selectCuantia}"
									rowKey="#{cuant.materia}" selectionMode="single">

									<p:column headerText="Moneda">#{cuant.moneda}</p:column>
									<p:column headerText="Pretendido">#{cuant.pretendido}</p:column>
									<p:column headerText="Materia">#{cuant.materia}</p:column>

								</p:dataTable>

							</p:outputPanel>


						</h:panelGrid>

					</p:tab>

					<p:tab title="#{msjs.datos_expe_sub_titulo_4}"
						disabled="#{actSeguiExpe.tabCaucion}" id="tabCaucion" >
						<h:panelGrid columns="21">

							<h:outputLabel value="#{msjs.datos_expe_inculpado}" />

							<p:autoComplete id="acNombreIncul"
								completeMethod="#{actSeguiExpe.completeInculpado}"
								value="#{actSeguiExpe.inculpado.inculpado}" />

							<p:message for="acNombreIncul" />

							<p:commandButton id="panelDetInculpBtn" icon="ui-icon-extlink"
								type="button" onclick="dlgInc.show();" />



							<h:outputLabel value="Fecha :" />

							<p:calendar id="calInculFec"
								value="#{actSeguiExpe.inculpado.fecha}" showOn="button"
								pattern="dd/MM/yyyy" />

							<p:message for="calInculFec" />

							<h:outputLabel value="Moneda :" />

							<p:selectOneMenu id="somMonedaIncul"
								value="#{actSeguiExpe.inculpado.moneda}" style="width:100px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.monedas}" />
							</p:selectOneMenu>

							<p:message for="somMonedaIncul" />

							<h:outputLabel value="Monto :" />

							<p:inputText id="txtMontoInculpado"
								value="#{actSeguiExpe.inculpado.monto}" size="7" />

							<p:message for="txtMontoInculpado" />


							<h:outputLabel value="Nro Cupon :" />

							<p:inputText id="txtNroCuponInculpado"
								value="#{actSeguiExpe.inculpado.nroCupon}" />

							<p:message for="txtNroCuponInculpado" />

							<h:outputLabel value="Situacion :" />

							<p:selectOneMenu id="somSituacIncul"
								value="#{actSeguiExpe.inculpado.situacion}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.listSituacion}" />
							</p:selectOneMenu>

							<p:message for="somSituacIncul" />

							<p:commandButton value="+" update="pnlInculp"
								actionListener="#{actSeguiExpe.agregarInculpado}" ajax="true" />

						</h:panelGrid>

						<h:panelGrid columns="1">

							<p:outputPanel id="pnlInculp">
								<p:dataTable value="#{actSeguiExpe.inculpadosDataModel}"
									var="tblInculp" paginator="true" rows="3"
									paginatorPosition="bottom"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
									emptyMessage="No hay registros">

									<p:column headerText="Inculpado">#{tblInculp.inculpado}</p:column>
									<p:column headerText="Moneda">#{tblInculp.moneda}</p:column>
									<p:column headerText="Monto">#{tblInculp.monto}</p:column>
									<p:column headerText="Nro. cupon">#{tblInculp.nroCupon}</p:column>
									<p:column headerText="Fecha">#{tblInculp.fechaToString}</p:column>
									<p:column headerText="Situacion">#{tblInculp.situacion}</p:column>

								</p:dataTable>

							</p:outputPanel>


						</h:panelGrid>

					</p:tab>

					<p:tab title="#{msjs.datos_expe_sub_titulo_5}">
						<h:panelGrid columns="12">
							<h:outputLabel value="#{msjs.datos_expe_moneda}" />
							<p:selectOneMenu id="somMoneda" value="#{actSeguiExpe.moneda}" style="width:100px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.monedas}" />
							</p:selectOneMenu>
							<p:message for="somMoneda" />

							<h:outputLabel value="#{msjs.datos_expe_monto}" />
							<p:inputText value="#{actSeguiExpe.monto}" id="idMonto" size="7" />
							<p:message for="idMonto" />

							<h:outputLabel value="#{msjs.datos_expe_tipo_2}" />
							<p:selectOneMenu id="somCautelaTipo"
								value="#{actSeguiExpe.slctTipo}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.tipoCautelar}" />
							</p:selectOneMenu>

							<p:message for="somCautelaTipo" />

							<h:outputLabel value="#{msjs.datos_expe_descripcion}" />
							<p:inputText value="#{actSeguiExpe.slctDescripcion}" id="idDescr">

							</p:inputText>

							<p:message for="idDescr" />
						</h:panelGrid>

						<h:panelGrid columns="9">
							<h:outputLabel value="#{msjs.datos_expe_contra_cautela}" />
							<p:selectOneMenu id="somContraCautela"
								value="#{actSeguiExpe.slctContraCuatela}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.contraCautelas}" />
							</p:selectOneMenu>


							<p:message for="somContraCautela" />

							<h:outputLabel value="#{msjs.datos_expe_importe}" />

							<p:inputText id="idImporte" value="#{actSeguiExpe.importe}" />

							<p:message for="idImporte" />

							<h:outputLabel value="#{msjs.datos_expe_estado_2}" />
							<p:selectOneMenu id="somEstadoCautela"
								value="#{actSeguiExpe.estadoCautelar}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.estadosCautelares}" />
							</p:selectOneMenu>

							<p:message for="somEstadoCautela" />

						</h:panelGrid>


					</p:tab>

					<p:tab title="#{msjs.datos_expe_sub_titulo_6}">
						<h:panelGrid columns="5">
							<h:outputLabel value="#{msjs.datos_expe_fec_resumen}" />
							<p:calendar value="#{actSeguiExpe.fechaResumen}" showOn="button"
								pattern="dd/MM/yyyy">
							</p:calendar>

							<h:outputLabel value="#{msjs.datos_expe_resumen}" />
							<p:editor id="editor" value="#{actSeguiExpe.resumen}" width="350"
								height="170" />

							<p:commandButton update="txtAreaTodoResumen" ajax="true"
								actionListener="#{actSeguiExpe.agregarTodoResumen}"
								icon="ui-icon-plus" />

						</h:panelGrid>

						<p:inputTextarea id="txtAreaTodoResumen"
							value="#{actSeguiExpe.todoResumen}" rows="6" cols="60"
							readonly="true" />

					</p:tab>
					
					<p:tab id="tabActProc" title="#{msjs.notif_activ_proc_titulo}">

						<h:outputLabel value="#{msjs.notif_activ_proc_label}" />

						<h:panelGrid columns="4">
							<p:spacer width="48" height="20" />
							<p:inputText id="txtDescrNoti"
								value="#{actSeguiExpe.descripNotif}" size="75" />
							<p:message for="txtDescrNoti" />

							<p:commandButton id="btnActProc" icon="ui-icon-extlink"
								type="button" onclick="dlgActProc.show();" />
						</h:panelGrid>

					</p:tab>

					<p:tab id="tabAnexo" title="#{msjs.notif_anex_titulo}">

						<h:panelGrid columns="3">
							<h:outputLabel value="#{msjs.notif_anex_doc}" />
							<p:inputText id="txtDocumento"
								value="#{actSeguiExpe.documentoAnexo}" size="75" />
							<p:commandButton id="btnAnexo" icon="ui-icon-extlink"
								type="button" onclick="dlgAnex.show();" />
						</h:panelGrid>


					</p:tab>

					<p:tab title="#{msjs.datos_expe_sub_titulo_7}">
						<h:panelGrid columns="2">
							<h:outputLabel value="#{msjs.datos_expe_riesgo}" />
							<p:selectOneMenu id="somRiesgo" value="#{actSeguiExpe.riesgo}"
								style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.riesgos}" var="rsg"
									itemLabel="#{rsg}" itemValue="#{rsg}" />
							</p:selectOneMenu>

						</h:panelGrid>

					</p:tab>

				</p:accordionPanel>

				<h:panelGrid columns="3">
					<p:commandButton value="Finalizar Instancia"
						type="button" />
					<p:commandButton value="#{msjs.datos_expe_boton_guardar}"
						 action="#{actSeguiExpe.guardar}" ajax="false" />
					<p:commandButton value="#{msjs.datos_expe_boton_limpiar}"
						type="reset" />

				</h:panelGrid>

		</h:form>

		<!-- Mantenimiento de Organo  -->
		<p:dialog widgetVar="dlgOrg" modal="true" id="dlgOrgPanel"
			header="Mantenimiento de Organo">

			<h:panelGrid columns="3">
				<h:outputLabel value="Entidad :" />
				<p:selectOneMenu value="#{actSeguiExpe.organo.entidad}"
					id="somEntidad" effect="fade" style="width:120px;">
					<f:selectItem itemLabel="Seleccione" itemValue="" />
					<f:selectItem itemLabel="Ministerio" itemValue="Ministerio" />
					<f:selectItem itemLabel="Poder Judicial" itemValue="Poder Judicial" />
					<f:selectItem itemLabel="Tribunal Constitucional"
						itemValue="Tribunal Constitucional" />
				</p:selectOneMenu>
				<p:message for="somEntidad" />

				<h:outputLabel value="Organo :" />

				<p:inputText id="txtOrganoNom" value="#{actSeguiExpe.organo.nombre}" />
				<p:message for="txtOrganoNom" />

				<h:outputLabel value="Distrito :" />
				<p:autoComplete id="acDistrito"
					value="#{actSeguiExpe.organo.descripcion2}"
					completeMethod="#{actSeguiExpe.completeDistrito}" size="35">

				</p:autoComplete>
				<p:message for="acDistrito" />

			</h:panelGrid>

			<h:panelGrid columns="3">
				<p:commandButton value="Buscar" update="dtlistOrganos"
					actionListener="#{actSeguiExpe.buscarOrganos}" ajax="true" />

				<p:spacer width="10" height="20" />

				<p:commandButton value="Agregar" update="dtlistOrganos"
					actionListener="#{actSeguiExpe.agregarOrgano}" ajax="true" />


			</h:panelGrid>

			<p:outputPanel id="dtlistOrganos">

				<p:dataTable value="#{actSeguiExpe.organoDataModel}" var="tbl_orgn"
					id="organoTable" paginator="true" rows="3"
					emptyMessage="No hay registros" paginatorPosition="bottom"
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
					rowKey="#{tbl_orgn.codigo}" selectionMode="single"
					selection="#{actSeguiExpe.selectedOrgano}"
					rowsPerPageTemplate="5,10,15">

					<p:column>
						<f:facet name="header">
							<h:outputText value="Organo Jurisdiccional" />
						</f:facet>
						<h:outputText value="#{tbl_orgn.nombre}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Distrito" />
						</f:facet>
						<h:outputText value="#{tbl_orgn.descripcion2}" />
					</p:column>


				</p:dataTable>
				<p:message for="organoTable" />

			</p:outputPanel>

		</p:dialog>

		<!-- Mantenimiento de Abogado -->
		<p:dialog widgetVar="dlgAbog" modal="true" id="dlgAbogPanel"
			header="Mantenimiento de Abogado">

			<h:panelGrid columns="2">

				<h:outputText value="Estudio :" />
				<p:autoComplete value="#{actSeguiExpe.abogado.estudio.nombre}"
					size="25" id="acEstudio"
					completeMethod="#{actSeguiExpe.completeEstudio}" />

				<h:outputText value="Registro CA :" />
				<p:inputText value="#{actSeguiExpe.abogado.registroCA}" size="20" />

				<h:outputText value="DNI :" />
				<p:inputText value="#{actSeguiExpe.abogado.dni}" size="8">
					<f:validateRegex pattern="^[0-9]{8}"></f:validateRegex>
				</p:inputText>

				<h:outputText value="Nombre :" />
				<p:inputText value="#{actSeguiExpe.abogado.nombre}" size="25" />

				<h:outputText value="Apellido Paterno :" />
				<p:inputText value="#{actSeguiExpe.abogado.apellidoPaterno}"
					size="20" />

				<h:outputText value="Apellido Materno :" />
				<p:inputText value="#{actSeguiExpe.abogado.apellidoMaterno}"
					size="20" />

				<h:outputText value="Telefono :" />
				<p:inputText value="#{actSeguiExpe.abogado.telefono}" size="20" />

				<h:outputText value="Correo :" />
				<p:inputText value="#{actSeguiExpe.abogado.correo}" size="20" />


			</h:panelGrid>

			<h:panelGrid columns="3">
				<p:commandButton value="Buscar"
					actionListener="#{actSeguiExpe.buscarAbogado}" update="dtAbogado" />
				<p:commandButton value="Agregar"
					actionListener="#{actSeguiExpe.agregarAbogado}" update="dtAbogado"
					ajax="true" />

			</h:panelGrid>

			<p:outputPanel id="dtAbogado">

				<p:dataTable value="#{actSeguiExpe.abogadoDataModel}"
					var="tblAbogado" paginator="true" emptyMessage="No hay registros"
					paginatorPosition="bottom" rows="3"
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
					rowsPerPageTemplate="5,10,15">

					<p:column headerText="Nombre">#{tblAbogado.nombre}</p:column>
					<p:column headerText="DNI">#{tblAbogado.dni}</p:column>
					<p:column headerText="RCA">#{tblAbogado.registroCA}</p:column>


				</p:dataTable>



			</p:outputPanel>

		</p:dialog>

		<!-- Detalle de Honorario -->
		<p:dialog widgetVar="dlgDetalleHonorario" modal="true"
			header="Detalle Honorario">

			<h:form id="frmDetHon">

				<p:panel id="pnlDetHon">

					<p:dataTable value="#{actSeguiExpe.honorarioDetalle}"
						id="tableDetEst" var="tblDetHono" emptyMessage="No hay registros">

						<p:column headerText="Cuota">
							<h:outputText value="#{tblDetHono.cuota}" />

						</p:column>
						<p:column headerText="Nro Recibo">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tblDetHono.nroRecibo}" />
								</f:facet>
								<f:facet name="input">
									<p:inputText value="#{tblDetHono.nroRecibo}" />
								</f:facet>
							</p:cellEditor>
						</p:column>

						<p:column headerText="Moneda">
							<h:outputText value="#{tblDetHono.moneda}" />
						</p:column>

						<p:column headerText="Importe">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tblDetHono.importe}" />
								</f:facet>
								<f:facet name="input">
									<p:inputText value="#{tblDetHono.importe}" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Fecha Pago">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tblDetHono.fechaPago}" />
								</f:facet>
								<f:facet name="input">
									<p:inputText value="#{tblDetHono.fechaPago}" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Situacion">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tblDetHono.situacion}" />
								</f:facet>
								<f:facet name="input">
									<p:inputText value="#{tblDetHono.situacion}" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Options" style="width:50px">
							<p:rowEditor />
						</p:column>

					</p:dataTable>


				</p:panel>


			</h:form>



		</p:dialog>


		<!-- Mantenimiento de Persona -->
		<p:dialog widgetVar="dlgDetPers" modal="true" id="dlgMDetPers"
			header="Mantenimiento de Persona">

			<h:panelGrid columns="2">

				<h:outputLabel value="Clase :" />
				<p:selectOneMenu value="#{actSeguiExpe.persona.clase}" effect="fade"
					style="width:120px;">
					<f:selectItem itemLabel="Seleccione" itemValue="" />
					<f:selectItem itemLabel="Natural" itemValue="001" />
					<f:selectItem itemLabel="Juridico" itemValue="002" />
				</p:selectOneMenu>

				<h:outputLabel value="Cod. Cliente :" />
				<p:inputText id="txtCodCliente"
					value="#{actSeguiExpe.persona.codCliente}" />

				<h:outputLabel value="Tipo Doc :" />
				<p:selectOneMenu value="#{actSeguiExpe.persona.tipoDoc}"
					effect="fade" style="width:120px;">
					<f:selectItem itemLabel="DNI" itemValue="dni" />
					<f:selectItem itemLabel="RUC" itemValue="ruc" />
					<f:selectItem itemLabel="Pasaporte" itemValue="le" />
					<f:selectItem itemLabel="Libreta Militar" itemValue="lm" />
				</p:selectOneMenu>

				<h:outputLabel value="Nro Documento :" />
				<p:inputText id="txtNroDoc" value="#{actSeguiExpe.persona.nroDoc}">
					<f:validateRegex pattern="^[0-9]{8}"></f:validateRegex>
				</p:inputText>

				<h:outputLabel value="Nombre/Razon Social :" />
				<p:inputText id="txtRaz" value="#{actSeguiExpe.persona.razonSocial}" />

				<h:outputLabel value="Apellido Paterno :" />
				<p:inputText id="txtApePat"
					value="#{actSeguiExpe.persona.apellidoPaterno}" />

				<h:outputLabel value="Apellido Materno :" />
				<p:inputText id="txtApeMat"
					value="#{actSeguiExpe.persona.apellidoMaterno}" />

			</h:panelGrid>

			<h:panelGrid columns="2">

				<p:commandButton value="Buscar" update="dtPersonas"
					actionListener="#{actSeguiExpe.buscarPersona}" ajax="true" />
				<p:commandButton value="Agregar" update="dtPersonas"
					actionListener="#{actSeguiExpe.agregarDetallePersona}" ajax="true" />

			</h:panelGrid>


			<p:outputPanel id="dtPersonas">
				<p:dataTable value="#{actSeguiExpe.personaDataModel}" var="tblPers"
					rows="2" rowKey="#{tblPers.codigo}" selectionMode="single"
					paginatorPosition="bottom" emptyMessage="No hay registros"
					paginator="true" selection="#{actSeguiExpe.selectPersona}"
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
					rowsPerPageTemplate="5,10,15">

					<p:column>
						<f:facet name="header">
							<h:outputText value="Nombre" />
						</f:facet>
						<h:outputText value="#{tblPers.nombreCompleto}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Documento" />
						</f:facet>
						<h:outputText value="#{tblPers.tipoDoc}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Numero" />
						</f:facet>
						<h:outputText value="#{tblPers.nroDoc}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Tipo" />
						</f:facet>
						<h:outputText value="#{tblPers.tipo}" />
					</p:column>

				</p:dataTable>


			</p:outputPanel>

		</p:dialog>


		<!-- Mantenimiento de Inculpado -->
		<p:dialog widgetVar="dlgInc" modal="true" id="dlgInculpPanel"
			header="Mantenimiento de Inculpado">


			<h:panelGrid columns="2">

				<h:outputLabel value="Clase :" />

				<p:selectOneMenu value="#{actSeguiExpe.inculpado.persona.clase}"
					effect="fade" style="width:120px;">
					<f:selectItem itemLabel="Seleccione" itemValue="" />
					<f:selectItem itemLabel="Natural" itemValue="001" />
					<f:selectItem itemLabel="Juridico" itemValue="002" />
				</p:selectOneMenu>

				<h:outputLabel value="Cod. Cliente :" />
				<p:inputText id="txtCodClienteInculp"
					value="#{actSeguiExpe.inculpado.persona.codCliente}" />


				<h:outputLabel value="Tipo Doc :" />

				<p:selectOneMenu value="#{actSeguiExpe.inculpado.persona.tipoDoc}"
					effect="fade" style="width:120px;">
					<f:selectItem itemLabel="DNI" itemValue="dni" />
					<f:selectItem itemLabel="RUC" itemValue="ruc" />
					<f:selectItem itemLabel="Pasaporte" itemValue="le" />
					<f:selectItem itemLabel="Libreta Militar" itemValue="lm" />
				</p:selectOneMenu>

				<h:outputLabel value="Nro Documento :" />

				<p:inputText id="txtNroDocDetIncul"
					value="#{actSeguiExpe.inculpado.persona.nroDoc}">
					<f:validateRegex pattern="^[0-9]{8}"></f:validateRegex>
				</p:inputText>

				<h:outputLabel value="Nombre/Razon Social :" />

				<p:inputText id="txtRazDetIncul"
					value="#{actSeguiExpe.inculpado.persona.razonSocial}" />

				<h:outputLabel value="Apellido Paterno :" />

				<p:inputText id="txtApePatDetIncul"
					value="#{actSeguiExpe.inculpado.persona.apellidoPaterno}" />

				<h:outputLabel value="Apellido Materno :" />

				<p:inputText id="txtApeMatDetIncul"
					value="#{actSeguiExpe.inculpado.persona.apellidoMaterno}" />

			</h:panelGrid>
			<h:panelGrid columns="2">

				<p:commandButton value="Buscar" update="dtInculpados"
					actionListener="#{actSeguiExpe.buscarInculpado}" ajax="true" />
				<p:commandButton value="Agregar" update="dtInculpados"
					actionListener="#{actSeguiExpe.agregarDetalleInculpado}"
					ajax="true" />

			</h:panelGrid>


			<p:outputPanel id="dtInculpados">
				<p:dataTable value="#{actSeguiExpe.personaDataModel}" var="tblPers"
					rows="2" rowKey="#{tblPers.codigo}" paginatorPosition="bottom"
					selectionMode="single" emptyMessage="No hay registros"
					paginator="true" selection="#{actSeguiExpe.selectInculpado}"
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
					rowsPerPageTemplate="5,10,15">

					<p:column>
						<f:facet name="header">
							<h:outputText value="Nombre" />
						</f:facet>
						<h:outputText value="#{tblPers.nombreCompleto}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Documento" />
						</f:facet>
						<h:outputText value="#{tblPers.tipoDoc}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Numero" />
						</f:facet>
						<h:outputText value="#{tblPers.nroDoc}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Tipo" />
						</f:facet>
						<h:outputText value="#{tblPers.tipo}" />
					</p:column>

				</p:dataTable>


			</p:outputPanel>


		</p:dialog>


		<!-- Actividad Procesal -->
		<p:dialog widgetVar="dlgActProc" modal="true" id="dlgActProcPanel"
			header="Agenda de Trabajo">

			<p:tabView>

				<p:tab id="tabFiltBusq" title="Filtros de Busqueda">

					<h:form id="frmActProc">

						<h:messages globalOnly="true" />
						<h:panelGrid columns="11">

							<h:outputLabel value="Organo" />
							<p:selectOneMenu value="#{actSeguiExpe.procesal.organo}"
								id="somOrg" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItems value="#{actSeguiExpe.organos}" var="org"
									itemValue="#{org.codigo}" itemLabel="#{org.nombre}" />
							</p:selectOneMenu>
							<p:message for="somOrg" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="Demandante" id="somDem" />
							<p:selectOneMenu value="#{actSeguiExpe.procesal.demandante}" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItem itemLabel="Julio Correa Mellado" itemValue="001" />
							</p:selectOneMenu>
							<p:message for="somDem" />

							<p:spacer width="20" height="20" />

							<h:outputLabel value="Prioridad" />

							<p:selectOneMenu value="#{actSeguiExpe.procesal.prioridad}"
								id="somPrio" style="width:120px;">
								<f:selectItem itemLabel="Seleccione" itemValue="" />
								<f:selectItem itemLabel="Vencida" itemValue="001" />
								<f:selectItem itemLabel="Critica" itemValue="002" />
								<f:selectItem itemLabel="Advertencia" itemValue="003" />
								<f:selectItem itemLabel="Normal" itemValue="004" />
							</p:selectOneMenu>
							<p:message for="somPrio" />


						</h:panelGrid>

						<h:panelGrid columns="5">

							<h:outputLabel value="Nro. de Expediente" />
							<p:inputText value="#{actSeguiExpe.procesal.nroExpediente}"
								id="txtNroExpe" />
							<p:message for="txtNroExpe" />

							<p:spacer width="360" height="20" />

							<p:commandButton value="Buscar" icon="ui-icon-search"
								actionListener="#{actSeguiExpe.buscarActProc}"
								update="tableActPro" />


						</h:panelGrid>

						<p:dataTable value="#{actSeguiExpe.procesalDataModel}"
							id="tableActPro" var="actPro" emptyMessage="No hay registros"
							rows="5" paginator="true"
							paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
							rowKey="#{actPro.codigo}" paginatorPosition="bottom">

							<p:column headerText="Expediente">
								<h:outputText value="#{actPro.nroExpediente}" />
							</p:column>
							<p:column headerText="Demandante">
								<h:outputText value="#{actPro.demandante}" />
							</p:column>
							<p:column headerText="Organo">
								<h:outputText value="#{actPro.organo}" />
							</p:column>
							<p:column headerText="Hora">
								<h:outputText value="#{actPro.hora}" />
							</p:column>
							<p:column headerText="Actividad">
								<h:outputText value="#{actPro.actividad}" />
							</p:column>
							<p:column headerText="Fecha Actividad">
								<h:outputText value="#{actPro.fechaActividad}" />
							</p:column>
							<p:column headerText="Fecha Vencimiento">
								<h:outputText value="#{actPro.fechaVencimiento}" />
							</p:column>
							<p:column headerText="Fecha Atencion">
								<h:outputText value="#{actPro.fechaAtencion}" />
							</p:column>
							<p:column headerText="Observacion">
								<h:outputText value="#{actPro.observacion}" />
							</p:column>

						</p:dataTable>

					</h:form>

				</p:tab>

				<p:tab id="tabAgeTrab" title="Detalle de la Agenda de Trabajo">
					<h:form id="frmAgenda">
						<p:growl id="messages" showDetail="true" />
						<p:panel>
							<p:schedule value="#{actSeguiExpe.agendaModel}"
								widgetVar="agendaSchedule">
								<p:ajax event="eventSelect"
									listener="#{actSeguiExpe.onEventSelect}" update="eventDetails"
									oncomplete="dlgDetDia.show()" />
								<p:ajax event="eventMove" listener="#{actSeguiExpe.onEventMove}"
									update="messages" />
								<p:ajax event="eventResize"
									listener="#{actSeguiExpe.onEventResize}" update="messages" />
								<p:ajax event="dateSelect"
									listener="#{actSeguiExpe.onDateSelect}" update="eventDetails"
									oncomplete="dlgDetDia.show()" />


							</p:schedule>

						</p:panel>


						<p:dialog widgetVar="dlgDetDia" header="Detalle">
							<h:panelGrid id="eventDetails" columns="2">
								<h:outputLabel for="txtTit" value="Titulo:" />
								<p:inputText id="txtTit" value="#{actSeguiExpe.evento.title}" />

								<h:outputLabel for="from" value="From:" />
								<p:inputMask id="from" value="#{actSeguiExpe.evento.startDate}"
									mask="99/99/9999 99:99:99">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</p:inputMask>

								<h:outputLabel for="to" value="To:" />
								<p:inputMask id="to" value="#{actSeguiExpe.evento.endDate}"
									mask="99/99/9999 99:99:99">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</p:inputMask>

								<h:outputLabel for="allDay" value="All Day:" />
								<h:selectBooleanCheckbox id="allDay"
									value="#{actSeguiExpe.evento.allDay}" />

								<p:commandButton type="reset" value="Limpiar" />
								<p:commandButton value="Guardar"
									actionListener="#{actSeguiExpe.addEvent}"
									oncomplete="agendaSchedule.update();dlgDetDia.hide();" />
							</h:panelGrid>


						</p:dialog>
					</h:form>
				</p:tab>


			</p:tabView>


		</p:dialog>
		

		<p:dialog widgetVar="dlgAnex" modal="true" id="dlgAnexPanel"
			header="Agregar Anexo">


			<h:form enctype="multipart/form-data">

				<h:panelGrid columns="3">

					<h:outputText value="Examinar:"></h:outputText>
					<p:fileUpload id="fileDoc" value="#{actSeguiExpe.file}"
						mode="simple" required="true" />
					<p:message for="fileDoc"></p:message>

					<h:outputText value="Titulo:"></h:outputText>
					<p:inputText id="docTit" value="#{actSeguiExpe.documento.titulo}"
						required="true"></p:inputText>
					<p:message for="docTit" />

					<h:outputText value="Comentario:"></h:outputText>
					<p:inputTextarea  id="docCom" 
									  value="#{actSeguiExpe.documento.comentario}" 
									  required="true" rows="2" cols="10"  >
					
					</p:inputTextarea>
					<p:message for="docCom" />

					<h:outputText value="Fecha:"></h:outputText>
					<p:calendar value="#{actSeguiExpe.documento.fecha}" showOn="button"
						pattern="dd/MM/yyyy" required="true" id="calFec" />
					<p:message for="calFec" />


					<p:commandButton type="button" value="Agregar" icon="ui-icon-check" />

					<p:commandButton type="reset" value="Limpiar" />



				</h:panelGrid>

			</h:form>

		</p:dialog>

	</ui:define>

</ui:composition>